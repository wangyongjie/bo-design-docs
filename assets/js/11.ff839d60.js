(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{338:function(e,t,i){"use strict";var a=i(438);t.a={methods:{t(...e){return a.b.apply(this,e)}}}},387:function(e,t,i){},388:function(e,t,i){},389:function(e,t,i){},390:function(e,t,i){},391:function(e,t,i){},392:function(e,t,i){},393:function(e,t,i){},394:function(e,t,i){},395:function(e,t,i){},404:function(e,t,i){},405:function(e,t,i){},406:function(e,t,i){},407:function(e,t,i){},408:function(e,t,i){},409:function(e,t,i){},410:function(e,t,i){},411:function(e,t,i){},412:function(e,t,i){},413:function(e,t,i){},414:function(e,t,i){},415:function(e,t,i){},416:function(e,t,i){},417:function(e,t,i){},425:function(e,t){},426:function(e,t,i){"use strict";i(125);var a={name:"BoCurrencyInput",props:{value:{type:[Number,String]},position:{type:Number,default:3},precision:{type:Number,default:0},disabled:{type:Boolean,default:!1}},data:()=>({modelValue:null}),computed:{_precision(){return this.precision<0?0:this.precision},_position(){return this.position<0?0:this.position}},watch:{value:function(){this.modelValue=this.value,this.setModelValue()},disabled:function(e){e&&this.cleanValue()}},mounted(){this.modelValue=this.value,this.setModelValue()},methods:{handleInput(e){this.modelValue=e.replace(/[^0-9.]/g,"")},handleFocus(){this.modelValue&&(this.modelValue=this.modelValue.replace(/,/g,""))},handleBlur(){this.setModelValue()},emit(){const e=null===this.modelValue||void 0===this.modelValue?this.modelValue:Number(this.modelValue.replace(/,/g,""));this.$emit("input",e),this.$emit("change",e)},setModelValue(){const e=this.modelValue;if([null,void 0,"",0].includes(e))return this.$emit("input",e),void this.$emit("change",e);let{int:t,decimal:i}=this.numberFormat(e);const a=t.split("").reverse();let n=this.addComma(a).reverse().join("");this.modelValue=0===this._precision?n:`${n}.${i}`,this.emit()},addComma(e){if(0===this._position)return e;const t=[];return e.forEach((i,a)=>{t.push(i),(a+1)%this._position==0&&void 0!==e[a+1]&&t.push(",")}),t},numberFormat(e){const t=this._precision;let i,a;return e=e.toString().replace(/[^0-9.]/g,""),{num:e=0===t?e.replace(/(\d+)(.*)/,(function(e,t){return i=t,a=null,""+t})):e.includes(".")?e.replace(/(\d+)(\.)(.*)/,(function(e,n,o,l){for(a="."===o?l:"",a.length>t&&(a=a.substr(0,t));a.length<t;)a+="0";return i=n,`${n}${o}${l}`})):e.replace(/(\d+)(.*)/,(function(e,n){for(a="";a.length<t;)a+="0";return i=n,`${n}${a}`})),int:i,decimal:a}},cleanValue(){this.modelValue=0,this.setModelValue()},handleClear(){this.$emit("clear",...arguments)},focus(){this.$refs.inputRef.focus()},blur(){this.$refs.inputRef.blur()}}},n=i(16),o=Object(n.a)(a,(function(){return(0,this._self._c)("el-input",this._b({ref:"inputRef",attrs:{value:this.modelValue,type:"text"},on:{focus:this.handleFocus,blur:this.handleBlur,input:this.handleInput,clear:this.handleClear}},"el-input",this.$attrs,!1))}),[],!1,null,null,null).exports;o.install=function(e){e.component(o.name,o)};t.a=o},427:function(e,t,i){"use strict";var a={name:"BoRangeInput",props:{prop:{type:String,default:""},rangeProp:{type:String,default:""},placeholder:{type:String,default:""},rangeOptions:{type:Array,default:null}},computed:{inputValue:{get(){return this.prop},set(e){this.$emit("update:prop",e)}},selectValue:{get(){return this.rangeProp},set(e){this.$emit("update:rangeProp",e)}},options(){return this.rangeOptions||["<","≤","=","≥",">"]}},mounted(){this.$nextTick(()=>{this.selectValue=this.options[0]})}},n=(i(449),i(16)),o=Object(n.a)(a,(function(){var e=this,t=e._self._c;return t("div",[t("el-input",{staticClass:"range-input",attrs:{type:"number",clearable:"",placeholder:e.placeholder},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}},[t("el-select",{attrs:{slot:"prepend"},slot:"prepend",model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}},e._l(e.options,(function(e,i){return t("el-option",{key:i+"_local",attrs:{value:e,label:e}})})),1)],1)],1)}),[],!1,null,null,null).exports;o.install=function(e){e.component(o.name,o)};t.a=o},428:function(e,t,i){"use strict";var a={name:"BoSelect",mixins:[i(338).a],props:{value:{type:Array,required:!0},list:{type:Array,default:()=>[]},collapseTags:{type:Boolean,default:!0},valueName:{type:String,default:"value"},labelName:{type:String,default:"label"},disabled:{type:Boolean,default:!1},showBtn:{type:Boolean,default:!0},showType:{type:Number,default:1},isEmpty:{type:Boolean,default:!1}},data:()=>({isSelectAll:!1}),computed:{formatList:function(){return this.list.map(e=>"object"!=typeof e?{value:e,label:e}:!(e instanceof Object)||e instanceof Array||e instanceof Function?(alert("Invalid list"),{}):{value:e[this.valueName],label:e[this.labelName]})},ppValue:function(){return this.value&&this.value.length?this.value:1===this.showType?["_all_"]:[]}},methods:{handleChange(e){if(e.length){let t="_all_"!==e[e.length-1]?e.filter(e=>"_all_"!==e):this.isEmpty?[]:["_all_"];this.$emit("input",t)}else{let e=[];switch(this.showType){case 1:e=this.isEmpty?[]:["_all_"]}this.$emit("input",e)}},reverseAll(){-1===this.ppValue.indexOf("_all_")&&this.handleChange(this.formatList.map(e=>e.value).filter(e=>-1===this.ppValue.indexOf(e)))},handleSelectAll(e){e?this.handleChange(this.formatList.map(e=>e.value)):this.handleChange([])}}},n=i(16),o=Object(n.a)(a,(function(){var e=this,t=e._self._c;return t("el-select",{attrs:{value:e.ppValue,multiple:"",filterable:"","collapse-tags":e.collapseTags,disabled:e.disabled,placeholder:e.t("bo.select.selectPlaceholder")},on:{change:e.handleChange}},[e.showBtn?t("div",{staticStyle:{padding:"4px 15px 8px 15px"}},[2===e.showType?t("el-checkbox",{staticStyle:{"padding-left":"5px"},on:{change:e.handleSelectAll},model:{value:e.isSelectAll,callback:function(t){e.isSelectAll=t},expression:"isSelectAll"}},[e._v("\n      "+e._s(e.t("bo.select.allButtonText"))+"\n    ")]):e._e(),e._v(" "),1===e.showType&&e.formatList.length>30?t("el-button",{attrs:{type:"primary",disabled:-1!==e.ppValue.indexOf("_all_")},on:{click:e.reverseAll}},[e._v("\n      "+e._s(e.t("bo.select.excludeButtonText"))+"\n    ")]):e._e()],1):e._e(),e._v(" "),1===e.showType?t("el-option",{attrs:{label:"All("+e.list.length+")",value:"_all_"}}):e._e(),e._v(" "),e._l(e.formatList,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],2)}),[],!1,null,null,null).exports;o.install=function(e){e.component(o.name,o)};t.a=o},429:function(e,t,i){"use strict";i(125);var a={name:"BoMultLang",mixins:[i(338).a],components:{BoFormItem:()=>Promise.resolve().then(i.bind(null,522))},props:{value:{type:Object,default:()=>({})},langs:{type:Array,default:()=>[]},form:{type:Object,default:()=>({})},formItems:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1}},data:()=>({lang:"en",editableTabsValue:"en",editableTabs:[],content:{}}),created(){const e=Object.keys(this.value);e.length?(this.content={...this.value},e.forEach(e=>{const t=this.langs.find(t=>t.value===e).label;this.editableTabs.push({title:t,name:e})})):(this.content={en:{...this.form.model}},this.langs.length&&this.editableTabs.push({title:this.langs[0].label,name:this.langs[0].value}))},watch:{content:{handler(e){this.$emit("input",e)},deep:!0}},methods:{addTab(){if(this.editableTabs.some(e=>e.name===this.lang))return void this.$message({message:this.t("bo.multLang.languageExistMessage"),type:"error"});const e=this.langs.find(e=>e.value===this.lang).label;this.$set(this.content,this.lang,{...this.form.model}),this.editableTabs.push({title:e,name:this.lang}),this.editableTabsValue=this.lang},removeTab(e){let t=this.editableTabs,i=this.editableTabsValue;i===e&&t.forEach((a,n)=>{if(a.name===e){let e=t[n+1]||t[n-1];e&&(i=e.name)}}),this.editableTabsValue=i,this.editableTabs=t.filter(t=>t.name!==e),this.$nextTick(()=>{delete this.content[e]})}}},n=i(16),o=Object(n.a)(a,(function(){var e=this,t=e._self._c;return t("div",[t("el-select",{staticStyle:{width:"180px","margin-right":"8px"},attrs:{disabled:e.disabled},model:{value:e.lang,callback:function(t){e.lang=t},expression:"lang"}},e._l(e.langs,(function(e){return t("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})})),1),e._v(" "),t("el-button",{attrs:{type:"primary",icon:"el-icon-plus",disabled:e.disabled},on:{click:function(t){return e.addTab(e.editableTabsValue)}}},[e._v("\n    "+e._s(e.t("bo.multLang.addLanguageButtonText"))+"\n  ")]),e._v(" "),t("el-tabs",{staticStyle:{"margin-top":"10px"},attrs:{type:"border-card"},on:{"tab-remove":e.removeTab},model:{value:e.editableTabsValue,callback:function(t){e.editableTabsValue=t},expression:"editableTabsValue"}},e._l(e.editableTabs,(function(i,a){return t("el-tab-pane",{key:i.name,attrs:{label:i.title,name:i.name,closable:!e.disabled&&(i.closable||0!==a)}},[t("el-form",e._b({attrs:{model:e.content[i.name],disabled:e.disabled},nativeOn:{submit:function(e){e.preventDefault()}}},"el-form",e.form,!1),e._l(e.formItems,(function(a,n){return t("el-form-item",e._b({key:n+"item"},"el-form-item",a,!1),[t("bo-form-item",{attrs:{item:a,form:e.form,formModel:e.content[i.name]},model:{value:e.content[i.name][a.prop],callback:function(t){e.$set(e.content[i.name],a.prop,t)},expression:"content[tab.name][item.prop]"}})],1)})),1)],1)})),1)],1)}),[],!1,null,null,null).exports;o.install=function(e){e.component(o.name,o)};t.a=o},430:function(e,t,i){"use strict";var a=i(520),n={name:"BoEmoji",props:{value:{type:String,default:""},showWordLimit:{type:Boolean,default:!1},rows:{type:Number,default:1},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1}},components:{VEmojiPicker:a.a},methods:{selectEmoji(e){((e,t)=>{if(window.getSelection)e.setRangeText(t),e.selectionStart+=t.length,e.focus();else if(document.selection){e.focus();document.selection.createRange().text=t}})(this.$refs.inputRef.$el.children[0],e.data)}}},o=(i(450),i(451),i(16)),l=Object(o.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"bo-emoji"},[t("el-input",e._g({ref:"inputRef",attrs:{value:e.value,resize:"none","show-word-limit":e.showWordLimit,rows:e.rows,placeholder:e.placeholder,disabled:e.disabled,type:"textarea"},on:{input:function(t){return e.$emit("input",t)},blur:function(t){e.$emit("input",t.target.value.trim())}}},e.$listeners)),e._v(" "),t("el-popover",{staticClass:"emoji-popper",attrs:{width:"325",trigger:"click",placement:"top-end","popper-class":"bo-emoji-popper"}},[t("VEmojiPicker",{on:{select:e.selectEmoji}}),e._v(" "),t("el-button",{staticStyle:{padding:"0"},attrs:{slot:"reference",disabled:e.disabled,type:"text"},slot:"reference"},[t("svg",{staticStyle:{"max-height":"18px"},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 106.059 106.059",fill:"gray"}},[t("path",{attrs:{d:"M90.544 90.542c20.687-20.684 20.685-54.341.002-75.024-20.688-20.689-54.347-20.689-75.031-.006-20.688 20.687-20.686 54.346.002 75.034 20.682 20.684 54.341 20.684 75.027-.004zM21.302 21.3c17.494-17.493 45.959-17.495 63.457.002 17.494 17.494 17.492 45.963-.002 63.455-17.494 17.494-45.96 17.496-63.455.003-17.498-17.498-17.496-45.966 0-63.46zM27 69.865s-2.958-11.438 6.705-8.874c0 0 17.144 9.295 38.651 0 9.662-2.563 6.705 8.874 6.705 8.874C73.539 86.824 53.03 85.444 53.03 85.444S32.521 86.824 27 69.865zm6.24-31.194a6.202 6.202 0 1 1 12.399.001 6.202 6.202 0 0 1-12.399-.001zm28.117 0a6.202 6.202 0 1 1 12.403.001 6.202 6.202 0 0 1-12.403-.001z"}})])])],1)],1)}),[],!1,null,"96c5e9ba",null).exports;l.install=function(e){e.component(l.name,l)};t.a=l},431:function(e,t,i){"use strict";i(373),i(374),i(375);var a={name:"BoImageUpload",props:{disabled:{type:Boolean,default:!1},value:{type:Object,default:()=>{}},onValid:{type:Function,default:null}},computed:{image:{get(){return this.value},set(e){this.$emit("input",e)}}},methods:{resetImage(){this.image={src:"",file:null}},uploadImage(e,t){t.length>1&&t.splice(0,1);(!this.onValid||this.onValid(e,t))&&(this.image={src:URL.createObjectURL(e.raw),file:e.raw})}}},n=(i(452),i(453),i(16)),o=Object(n.a)(a,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"bo-image-uploader"},[t("el-upload",e._b({attrs:{action:"#",drag:"",multiple:!1,"show-file-list":!1,"auto-upload":!1,"on-change":e.uploadImage,disabled:e.disabled}},"el-upload",e.$attrs,!1),[e.image&&e.image.src?t("el-image",{staticClass:"image",attrs:{fit:"contain",src:e.image.src}}):t("i",{staticClass:"el-icon-plus bo-image-uploader-icon"})],1),e._v(" "),e.image&&e.image.src&&!e.disabled?t("el-button",{staticClass:"clear-img",attrs:{size:"mini",icon:"el-icon-close",round:""},on:{click:e.resetImage}}):e._e()],1)}),[],!1,null,"0fa1741a",null).exports;o.install=function(e){e.component(o.name,o)};t.a=o},432:function(e,t,i){"use strict";var a={name:"BoPlus",mixins:[i(338).a],props:{maxSlots:{type:Number,default:10},slotName:{type:String,default:""},defaultValue:{type:Object,default:()=>({})},value:{type:Array,default:()=>[]},onlyRemoveLast:{type:Boolean,default:!1},model:{type:Object,default:()=>({})}},computed:{itemList:{get(){return this.value},set(e){this.$emit("input",e)}}},methods:{removeItem(e){this.itemList=this.itemList.filter((t,i)=>i!==e)},addItem(){if(this.itemList.length>=this.maxSlots)return void this.$message({message:this.t("bo.plus.maximumSlotSectionMessage",{maxSlots:this.maxSlots}),type:"error"});const e=JSON.parse(JSON.stringify(this.defaultValue));this.itemList=[...this.itemList,e]}}},n=(i(454),i(16)),o=Object(n.a)(a,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"bo-plus"},[t("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.addItem}}),e._v(" "),e._l(e.itemList,(function(i,a){return t("div",{key:a,staticClass:"slot-item"},[t("div",{staticClass:"btn-block",style:{visibility:e.onlyRemoveLast&&a!==e.itemList.length-1?"hidden":"visible"}},[t("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-minus"},on:{click:function(t){return e.removeItem(a)}}})],1),e._v(" "),e._t(e.slotName,null,{item:i,index:a,model:e.model})],2)}))],2)}),[],!1,null,"45754902",null).exports;o.install=function(e){e.component(o.name,o)};t.a=o},433:function(e,t,i){"use strict";var a={name:"BoCascader",props:{value:{}},computed:{modelValue:{get(){return this.value},set(e){this.$emit("input",e)}}},methods:{change(){this.$emit("change",...arguments)},expandChange(){this.$emit("expand-change",...arguments)},blur(){this.$emit("blur",...arguments)},focus(){this.$emit("focus",...arguments)},visibleChange(){this.$emit("visible-change",...arguments)},removeTag(){this.$emit("remove-tag",...arguments)}}},n=i(16),o=Object(n.a)(a,(function(){var e=this;return(0,e._self._c)("el-cascader",e._b({attrs:{"show-all-levels":!1,filterable:""},on:{change:e.change,"expand-change":e.expandChange,blur:e.blur,focus:e.focus,"visible-change":e.visibleChange,"remove-tag":e.removeTag},model:{value:e.modelValue,callback:function(t){e.modelValue=t},expression:"modelValue"}},"el-cascader",e.$attrs,!1))}),[],!1,null,null,null).exports;o.install=function(e){e.component(o.name,o)};t.a=o},438:function(e,t,i){"use strict";i.d(t,"b",(function(){return p}));var a=i(0),n=i(142),o=i.n(n),l=i(523);const s=Object(l.a)(a.default);let r={bo:{dialog:{addFormTitle:"Add Form",editFormTitle:"Edit Form",previewFormTitle:"Preview Form",formRuleMessage:"Please check the configuration.",formValidationFailMessage:"Form validation failed!",previewButtonText:"Ok",cancelButtonText:"Cancel",confirmButtonText:"Confirm"},multLang:{addLanguageButtonText:"Add Language",languageExistMessage:"language existed."},page:{chartButtonText:"Chart",tipDialogTitle:"Notes:"},plus:{maximumSlotSectionMessage:"Maximum {maxSlots} sections."},search:{submitButtonText:"Search",exportButtonText:"Excel",resetButtonText:"reset",maximumRangeDaysErrorMessage:"Date range should not exceed {maxRangeDays} days."},section:{popoverTitle:"Section Setting",section:"Section",addSection:"Add Section",setAsDefault:"Set as Default",cancelButtonText:"Cancel",confirmButtonText:"Confirm",default:"Default",custom:"Custom",maximumSectionMessage:"Maximum {maxSections} sections.",sectionValueRangeErrorMessage:"The value must be greater than that of the previous section.",sectionValueTypeErrorMessage:"Please enter section value, pure numbers only."},select:{selectPlaceholder:"Please select",allButtonText:"All",excludeButtonText:"Exclude"},selectData:{weekFormat:"Week WW of yyyy"},table:{sum:"Sum",avg:"Avg"}}},c=!1,u=function(){const e=Object.getPrototypeOf(this||a.default).$t;if("function"==typeof e&&a.default.locale)return c||(c=!0,a.default.locale(a.default.config.lang,o()(r,a.default.locale(a.default.config.lang)||{},{clone:!0}))),e.apply(this,arguments)};const p=function(e,t){let i=u.apply(this,arguments);if(null!=i)return i;const a=e.split(".");let n=r;for(let e=0,o=a.length;e<o;e++){if(i=n[a[e]],e===o-1)return s(i,t);if(!i)return"";n=i}return""};t.a={use:function(e){r=e||r},t:p,i18n:function(e){u=e||u}}},447:function(e,t,i){"use strict";i(387)},448:function(e,t,i){"use strict";i(388)},449:function(e,t,i){"use strict";i(389)},450:function(e,t,i){"use strict";i(390)},451:function(e,t,i){"use strict";i(391)},452:function(e,t,i){"use strict";i(392)},453:function(e,t,i){"use strict";i(393)},454:function(e,t,i){"use strict";i(394)},455:function(e,t,i){"use strict";i(395)},471:function(e,t,i){"use strict";i(404)},472:function(e,t,i){"use strict";i(405)},473:function(e,t,i){"use strict";i(406)},474:function(e,t,i){"use strict";i(407)},475:function(e,t,i){"use strict";i(408)},476:function(e,t,i){"use strict";i(409)},477:function(e,t,i){"use strict";i(410)},478:function(e,t,i){"use strict";i(411)},479:function(e,t,i){"use strict";i(412)},480:function(e,t,i){"use strict";i(413)},481:function(e,t,i){"use strict";i(414)},485:function(e,t,i){"use strict";i(415)},486:function(e,t,i){"use strict";i(416)},487:function(e,t,i){"use strict";i(417)},517:function(e,t){},518:function(e,t){},522:function(e,t,i){"use strict";i.r(t);var a=i(428),n=i(426),o=i(429),l=i(430),s=i(431),r=i(427),c=i(432),u=i(433),p={name:"BoFormItem",components:{BoSelect:a.a,BoCurrencyInput:n.a,BoMultLang:o.a,BoEmoji:l.a,BoImageUpload:s.a,BoRangeInput:r.a,BoPlus:c.a,BoCascader:u.a},props:{item:{type:Object,default:()=>({})},form:{type:Object,default:()=>({})},formModel:{type:Object,default:()=>({})},monthPickerOptions:{type:Object,default:()=>({})},pickerOptions:{type:Object,default:()=>({})},value:{default:""}},computed:{model:{get(){return this.value},set(e){this.$emit("input",e)}},isDisabled(){const e=this.form.type,t=this.item.disabledOn;return!!e&&!!t&&e===t||"preview"===e||!0===this.item.disabled}},methods:{mapToArray:e=>e instanceof Map?[...e].map(e=>({value:e[0],label:e[1]})):e,onInput(e){this.model=e.replace(/[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF][\u200D|\uFE0F]|[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF]|[0-9|*|#]\uFE0F\u20E3|[0-9|#]\u20E3|[\u203C-\u3299]\uFE0F\u200D|[\u203C-\u3299]\uFE0F| [\u2122-\u2B55]|\u303D|[\A9|\AE]\u3030|\uA9|\uAE|\u3030/gi,"")}}},m=(i(455),i(16)),d=Object(m.a)(p,(function(){var e=this,t=e._self._c;return t("div",["input"===e.item.itemType||void 0===e.item.itemType?t("el-input",e._g(e._b({style:e.item.style,attrs:{clearable:void 0===e.item.clearable||e.item.clearable,type:e.item.type||"text",placeholder:e.item.placeholder,disabled:e.isDisabled},on:{input:e.onInput},model:{value:e.model,callback:function(t){e.model="string"==typeof t?t.trim():t},expression:"model"}},"el-input",e.item.props,!1),e.item.events),[void 0!==e.item.prependSlot?t("template",{slot:"prepend"},[e._v(e._s(e.item.prependSlot))]):e._e(),e._v(" "),void 0!==e.item.appendSlot?t("template",{slot:"append"},[e._v(e._s(e.item.appendSlot))]):e._e()],2):"currency"===e.item.itemType?t("bo-currency-input",e._b({attrs:{clearable:"",placeholder:e.item.placeholder,disabled:e.isDisabled},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"bo-currency-input",e.item.props,!1)):"text"===e.item.itemType?t("div",[e._v("\n    "+e._s(e.model)+"\n  ")]):"select"===e.item.itemType?t("el-select",e._g(e._b({style:e.item.style,attrs:{placeholder:e.item.placeholder,multiple:e.item.multiple,disabled:e.isDisabled,clearable:void 0===e.item.clearable||e.item.clearable,filterable:void 0===e.item.filterable||e.item.filterable},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"el-select",e.item.props,!1),e.item.events),e._l(e.mapToArray(e.item.options),(function(e,i){return t("el-option",{key:i+"_local",attrs:{value:e.value,label:e.label}})})),1):"multSelect"===e.item.itemType?t("bo-select",{style:e.item.style,attrs:{list:e.mapToArray(e.item.options),showType:e.item.showType,disabled:e.isDisabled,isEmpty:e.item.isEmpty,valueName:e.item.valueName,labelName:e.item.labelName,showBtn:e.item.showBtn},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}):"multLang"===e.item.itemType?t("bo-mult-lang",{attrs:{langs:e.item.langs,form:e.item.form,formItems:e.item.formItems,disabled:e.isDisabled},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}):"date"===e.item.itemType?t("el-date-picker",e._g(e._b({style:e.item.style,attrs:{type:"date",placeholder:e.item.placeholder,format:e.item.format||"yyyy-MM-dd","value-format":e.form.valueFormat||"yyyyMMdd",clearable:"","picker-options":e.item.pickerOptions||{},disabled:e.isDisabled},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"el-date-picker",e.item.props,!1),e.item.events)):"datetime"===e.item.itemType?t("el-date-picker",e._g(e._b({style:e.item.style,attrs:{type:"datetime",placeholder:e.item.placeholder,format:e.item.format||"yyyy-MM-dd HH:mm:ss","value-format":e.item.valueFormat||"yyyy-MM-dd HH:mm:ss",clearable:"","picker-options":e.item.pickerOptions||{},disabled:e.isDisabled},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"el-date-picker",e.item.props,!1),e.item.events)):"monthrange"===e.item.itemType?t("el-date-picker",e._g(e._b({style:e.item.style||{width:"280px"},attrs:{type:"monthrange",clearable:!1,"value-format":e.item.valueFormat||"yyyyMM","picker-options":e.item.pickerOptions||{},disabled:e.isDisabled},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"el-date-picker",e.item.props,!1),e.item.events)):"daterange"===e.item.itemType?t("el-date-picker",e._g(e._b({style:e.item.style||{width:"280px"},attrs:{type:"daterange","value-format":"yyyy-MM-dd",clearable:!1,placeholder:e.item.placeholder,"picker-options":e.item.pickerOptions||{},disabled:e.isDisabled},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"el-date-picker",e.item.props,!1),e.item.events)):"datetimerange"===e.item.itemType?t("el-date-picker",e._g(e._b({style:e.item.style,attrs:{type:"datetimerange",clearable:!1,placeholder:e.item.placeholder,"picker-options":e.item.pickerOptions,"value-format":e.item.valueFormat||"",format:e.item.format||"yyyy-MM-dd HH:mm:ss","start-placeholder":"开始时间","end-placeholder":"结束时间","default-time":e.item.defaultTime,disabled:e.isDisabled},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"el-date-picker",e.item.props,!1),e.item.events)):"switch"===e.item.itemType?t("el-switch",e._g(e._b({model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"el-switch",e.item.props,!1),e.item.events)):"checkbox"===e.item.itemType?t("el-checkbox-group",e._g(e._b({attrs:{disabled:e.isDisabled},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"el-checkbox-group",e.item.props,!1),e.item.events),e._l(e.mapToArray(e.item.options),(function(i,a){return t("el-checkbox",e._b({key:a},"el-checkbox",i,!1))})),1):"radio"===e.item.itemType?t("el-radio-group",e._g(e._b({style:e.item.style,attrs:{disabled:e.isDisabled},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"el-radio-group",e.item.props,!1),e.item.events),e._l(e.mapToArray(e.item.options),(function(i,a){return t("el-radio",e._b({key:a,attrs:{label:i.value}},"el-radio",i,!1),[e._v(e._s(i.label))])})),1):"textarea"===e.item.itemType?t("el-input",e._g(e._b({style:e.item.style,attrs:{"show-word-limit":e.item.showWordLimit,size:e.item.size,rows:e.item.rows,autosize:e.item.autosize,disabled:e.isDisabled,placeholder:e.item.placeholder,type:"textarea"},on:{input:e.onInput},model:{value:e.model,callback:function(t){e.model="string"==typeof t?t.trim():t},expression:"model"}},"el-input",e.item.props,!1),e.item.events)):"emoji"===e.item.itemType?t("bo-emoji",e._g({attrs:{"show-word-limit":e.item.showWordLimit,rows:e.item.rows,autosize:e.item.autosize,disabled:e.isDisabled,placeholder:e.item.placeholder},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e.item.events)):"imageUpload"===e.item.itemType?t("bo-image-upload",{attrs:{disabled:e.isDisabled,onValid:e.item.onValid},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}):"rangeInput"===e.item.itemType?t("bo-range-input",{attrs:{prop:e.model,rangeProp:e.formModel[e.item.rangeProp],rangeOptions:e.item.rangeOptions},on:{"update:prop":function(t){e.model=t},"update:rangeProp":function(t){return e.$set(e.formModel,e.item.rangeProp,t)},"update:range-prop":function(t){return e.$set(e.formModel,e.item.rangeProp,t)}}}):"plus"===e.item.itemType?t("bo-plus",{style:e.item.plusStyle,attrs:{maxSlots:e.item.maxSlots,slotName:e.item.slotName,defaultValue:e.item.defaultValue,onlyRemoveLast:e.item.onlyRemoveLast,model:e.formModel},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,i){return{key:i,fn:function(t){return[e._t(i,null,null,t)]}}}))],null,!0),model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[e._l(e.$slots,(function(t,i){return e._t(i,null,{slot:i})}))],2):"cascader"===e.item.itemType?t("bo-cascader",e._g(e._b({attrs:{options:e.item.options,"show-all-levels":!1},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"bo-cascader",e.item.props,!1),e.item.events)):"slot"===e.item.itemType?e._t(e.item.slotName,null,{model:e.formModel}):e._e(),e._v(" "),t("div",{staticClass:"tips"},[e._v("\n    "+e._s(e.item.tips)+"\n  ")])],2)}),[],!1,null,"693b39c8",null);t.default=d.exports},530:function(e,t,i){"use strict";i.r(t);var a=i(426),n=function(){var e=this._self._c;return e("div",{staticClass:"bo-copy"},[this._t("default"),this._v(" "),e("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"primary",icon:"el-icon-copy-document",size:"mini",circle:""},on:{click:this.copy}})],2)},o=[],l={name:"BoCopy",methods:{copy(){const e=this.$slots.default[0].text,t=document.createElement("input");t.setAttribute("value",e),document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}}},s=l,r=(i(447),i(16)),c=Object(r.a)(s,n,o,!1,null,null,null),u=c.exports;u.install=function(e){e.component(u.name,u)};var p=u,m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"bo_pagination"},[t("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},d=[];Math.easeInOutQuad=function(e,t,i,a){return(e/=a/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t};var h=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function f(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function g(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function b(e,t,i){const a=g(),n=e-a;let o=0;t=void 0===t?500:t;var l=function(){o+=20,f(Math.easeInOutQuad(o,a,n,t)),o<t?h(l):i&&"function"==typeof i&&i()};l()}var y={name:"BoPagination",props:{total:{required:!0,type:Number,default:0},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:()=>[10,15,20,30,40,50]},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get(){return this.page},set(e){this.$emit("update:page",e)}},pageSize:{get(){return this.limit},set(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange(e){Math.ceil(this.total/e)<this.currentPage&&1!==this.currentPage||(this.$emit("pagination"),this.autoScroll&&b(0,800))},handleCurrentChange(){this.$emit("pagination"),this.autoScroll&&b(0,800)}}},v=y,_=(i(448),Object(r.a)(v,m,d,!1,null,"5ef866ec",null)),x=_.exports;x.install=function(e){e.component(x.name,x)};var k=x,T=i(427),w=function(){var e=this,t=e._self._c;return t("el-dialog",e._b({attrs:{title:e.formTitle,visible:e.visible,width:e.dialogWidth,"close-on-click-modal":!1,"custom-class":"bo-dialog-class"},on:{close:e.closeDialog,closed:e.closeLoading,open:e.handleOpen,opened:e.handleOpened}},"el-dialog",e.$attrs,!1),[t("transition",{attrs:{name:"dialog-fade"}},[e.visible?t("el-form",e._b({ref:"dialogForm",attrs:{disabled:!!e.isPreview||e.form.disabled,"label-width":e.form.labelWidth,"label-position":e.labelPosition},nativeOn:{submit:function(e){e.preventDefault()}}},"el-form",e.form,!1),[e._l(e.formItems,(function(i,a){return[void 0===i.isExist||i.isExist?t("el-form-item",e._b({directives:[{name:"show",rawName:"v-show",value:!i.showOn||i.showOn===e.form.type,expression:"item.showOn ? item.showOn === form.type : true"}],key:a+"item"},"el-form-item",i,!1),[t("bo-form-item",{attrs:{item:i,form:e.form,formModel:e.form.model,monthPickerOptions:e.monthPickerOptions,pickerOptions:e.pickerOptions},on:{input:function(t){return e.onChange(i)}},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,i){return{key:i,fn:function(t){return[e._t(i,null,null,t)]}}}))],null,!0),model:{value:e.form.model[i.prop],callback:function(t){e.$set(e.form.model,i.prop,t)},expression:"form.model[item.prop]"}},[e._l(e.$slots,(function(t,i){return e._t(i,null,{slot:i})}))],2)],1):e._e()]}))],2):e._e()],1),e._v(" "),e.showFooter?t("div",{attrs:{slot:"footer"},slot:"footer"},[e.isPreview?t("div",[t("el-button",{on:{click:e.closeDialog}},[e._v("\n        "+e._s(e.t("bo.dialog.previewButtonText"))+"\n      ")])],1):t("div",[t("el-button",{on:{click:e.closeDialog}},[e._v("\n        "+e._s(e.t("bo.dialog.cancelButtonText"))+"\n      ")]),e._v(" "),e.showApprove?t("el-button",{on:{click:e.handleApprove}},[e._v("\n        "+e._s(e.approveTitle)+"\n      ")]):e._e(),e._v(" "),t("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.confirm}},[e._v(e._s(e.confirmTitle||e.t("bo.dialog.confirmButtonText")))])],1)]):e._e()],1)},S=[],$=i(522);$.default.install=function(e){e.component($.default.name,$.default)};var D=$.default;i(125),i(140);const O=function(e,t){if(0===arguments.length)return null;const i=t||"{y}-{m}-{d} {h}:{i}:{s}";let a;"object"==typeof e?a=e:("string"==typeof e&&/^[0-9]+$/.test(e)&&(e=parseInt(e)),"number"==typeof e&&10===e.toString().length&&(e*=1e3),a=new Date(e));const n={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()},o=i.replace(/{([ymdhisa])+}/g,(e,t)=>{const i=n[t];return"a"===t?["日","一","二","三","四","五","六"][i]:i.toString().padStart(2,"0")});return o};function C(e){if(!e&&"object"!=typeof e)throw new Error("error arguments","deepClone");const t=e.constructor===Array?[]:{};return Object.keys(e).forEach(i=>{e[i]&&"object"==typeof e[i]?t[i]=C(e[i]):t[i]=e[i]}),t}const B=e=>{let t={},i={shortcuts:[{text:"今天",rangeDays:1,onClick(e){const t=new Date,i=new Date;i.setTime(i.getTime()-0),e.$emit("pick",[O(i,"{y}-{m}-{d}"),O(t,"{y}-{m}-{d}")])}},{text:"过去7天",rangeDays:7,onClick(e){const t=new Date,i=new Date;i.setTime(i.getTime()-5184e5),e.$emit("pick",[O(i,"{y}-{m}-{d}"),O(t,"{y}-{m}-{d}")])}},{text:"过去15天",rangeDays:15,onClick(e){const t=new Date,i=new Date;i.setTime(i.getTime()-12096e5),e.$emit("pick",[O(i,"{y}-{m}-{d}"),O(t,"{y}-{m}-{d}")])}},{text:"过去30天",rangeDays:30,onClick(e){const t=new Date,i=new Date;i.setTime(i.getTime()-25056e5),e.$emit("pick",[O(i,"{y}-{m}-{d}"),O(t,"{y}-{m}-{d}")])}},{text:"过去90天",rangeDays:90,onClick(e){const t=new Date,i=new Date;i.setTime(i.getTime()-76896e5),e.$emit("pick",[O(i,"{y}-{m}-{d}"),O(t,"{y}-{m}-{d}")])}}]},a={shortcuts:[{text:"昨天",rangeDays:1,onClick(e){const t=new Date,i=new Date;t.setTime(t.getTime()-864e5),i.setTime(i.getTime()-864e5),e.$emit("pick",[O(i,"{y}-{m}-{d}"),O(t,"{y}-{m}-{d}")])}},{text:"过去7天",rangeDays:7,onClick(e){const t=new Date,i=new Date;t.setTime(t.getTime()-864e5),i.setTime(i.getTime()-6048e5),e.$emit("pick",[O(i,"{y}-{m}-{d}"),O(t,"{y}-{m}-{d}")])}},{text:"过去15天",rangeDays:15,onClick(e){const t=new Date,i=new Date;t.setTime(t.getTime()-864e5),i.setTime(i.getTime()-1296e6),e.$emit("pick",[O(i,"{y}-{m}-{d}"),O(t,"{y}-{m}-{d}")])}},{text:"过去30天",rangeDays:30,onClick(e){const t=new Date,i=new Date;t.setTime(t.getTime()-864e5),i.setTime(i.getTime()-2592e6),e.$emit("pick",[O(i,"{y}-{m}-{d}"),O(t,"{y}-{m}-{d}")])}},{text:"过去90天",rangeDays:90,onClick(e){const t=new Date,i=new Date;t.setTime(t.getTime()-864e5),i.setTime(i.getTime()-7776e6),e.$emit("pick",[O(i,"{y}-{m}-{d}"),O(t,"{y}-{m}-{d}")])}}],disabledDate:function(e){return e.getTime()>(new Date).getTime()-864e5}},n={shortcuts:[{text:"This Month",onClick(e){e.$emit("pick",[O(new Date,"{y}{m}"),O(new Date,"{y}{m}")])}},{text:"This Year",onClick(e){const t=new Date,i=new Date((new Date).getFullYear(),0);e.$emit("pick",[O(i,"{y}{m}"),O(t,"{y}{m}")])}},{text:"Past 6 Months",onClick(e){const t=new Date,i=new Date;i.setMonth(i.getMonth()-5),e.$emit("pick",[O(i,"{y}{m}"),O(t,"{y}{m}")])}},{text:"All Time",onClick(e){e.$emit("pick","")}}]};return e.forEach(n=>{if("daterange"===n.itemType){if(t[n.prop]=n.value||[],n.dayRange){const e=new Date,i=new Date;i.setTime(i.getTime()-864e5*(n.dayRange-1)),n.ignoreToday&&(e.setTime(e.getTime()-864e5),i.setTime(i.getTime()-864e5)),t[n.prop]=[O(i,"{y}-{m}-{d}"),O(e,"{y}-{m}-{d}")]}n.value&&(t[n.prop]=n.value),n.pickerOptions?n.pickerOptions.shortcuts&&"string"==typeof n.pickerOptions.shortcuts&&"all"===n.pickerOptions.shortcuts&&(n.pickerOptions.shortcuts=[...n.ignoreToday?a.shortcuts:i.shortcuts],n.pickerOptions.shortcuts.push({text:"All Time",onClick(e){e.$emit("pick",["",""])}})):n.pickerOptions=n.ignoreToday?a:i,n.maxRangeDays&&(n.pickerOptions.shortcuts=n.pickerOptions.shortcuts.filter(e=>e.rangeDays<=n.maxRangeDays))}else if("datetimerange"===n.itemType){if(t[n.prop]=n.value||"",n.dayRange){const e=new Date,i=new Date;n.dayRange<0?e.setTime(e.getTime()-864e5*n.dayRange):i.setTime(i.getTime()-864e5*n.dayRange),t[n.prop]=[i.getTime(),e.getTime()],n.defaultTime&&(t[n.prop]=[new Date(O(i,"{y}-{m}-{d}")+" "+n.defaultTime[0]).getTime(),new Date(O(e,"{y}-{m}-{d}")+" "+n.defaultTime[1]).getTime()]),n.pickerOptions||(n.pickerOptions=(o=n.defaultTime,{shortcuts:[{text:"Today",rangeDays:1,onClick(e){const t=new Date,i=new Date;i.setTime(i.getTime()-864e5),e.$emit("pick",[o?new Date(O(i,"{y}-{m}-{d}")+" "+o[0]).getTime():i.getTime(),o?new Date(O(t,"{y}-{m}-{d}")+" "+o[1]).getTime():t.getTime()])}},{text:"Past 7 Days",rangeDays:7,onClick(e){const t=new Date,i=new Date;i.setTime(i.getTime()-6048e5),e.$emit("pick",[o?new Date(O(i,"{y}-{m}-{d}")+" "+o[0]).getTime():i.getTime(),o?new Date(O(t,"{y}-{m}-{d}")+" "+o[1]).getTime():t.getTime()])}},{text:"Past 15 Days",rangeDays:15,onClick(e){const t=new Date,i=new Date;i.setTime(i.getTime()-1296e6),e.$emit("pick",[o?new Date(O(i,"{y}-{m}-{d}")+" "+o[0]).getTime():i.getTime(),o?new Date(O(t,"{y}-{m}-{d}")+" "+o[1]).getTime():t.getTime()])}},{text:"Past 30 Days",rangeDays:30,onClick(e){const t=new Date,i=new Date;i.setTime(i.getTime()-2592e6),e.$emit("pick",[o?new Date(O(i,"{y}-{m}-{d}")+" "+o[0]).getTime():i.getTime(),o?new Date(O(t,"{y}-{m}-{d}")+" "+o[1]).getTime():t.getTime()])}},{text:"Past 90 Days",rangeDays:90,onClick(e){const t=new Date,i=new Date;i.setTime(i.getTime()-7776e6),e.$emit("pick",[o?new Date(O(i,"{y}-{m}-{d}")+" "+o[0]).getTime():i.getTime(),o?new Date(O(t,"{y}-{m}-{d}")+" "+o[1]).getTime():t.getTime()])}},{text:"All Time",rangeDays:36500,onClick(e){e.$emit("pick","")}}]}),n.maxRangeDays&&(n.pickerOptions.shortcuts=n.pickerOptions.shortcuts.filter(e=>e.rangeDays<=n.maxRangeDays)))}n.value&&(t[n.prop]=n.value)}else if("monthrange"===n.itemType)if(void 0!==n.range){const e=new Date,i=new Date;i.setMonth(i.getMonth()-n.range+1),t[n.prop]=[O(i,"{y}{m}"),O(e,"{y}{m}")]}else t[n.prop]=n.value||"";else if("selectDate"===n.itemType){if(t[n.prop]=n.value,n.periodName=n.periodName||n.prop+"_period",e.some(e=>e.prop===n.periodName))throw"该名称："+n.periodName+" 已被使用, 请检查配置";t[n.periodName]=n.periodValue}else"multSelect"===n.itemType?t[n.prop]=n.value||(n.isEmpty?[]:["_all_"]):"datetime"===n.itemType?(t[n.prop]=n.value||"",n.offset&&(t[n.prop]=O(Date.now()+1e3*parseInt(n.offset),n.cFormat))):"date"===n.itemType?(t[n.prop]=n.value||"",void 0!==n.offset&&(t[n.prop]=O(Date.now()+864e5*parseInt(n.offset),n.cFormat||"{y}-{m}-{d}"))):t[n.prop]=void 0!==n.value&&null!==n.value?n.value:"";var o}),{params:t,pickerOptions:i,monthPickerOptions:n}},E=(e,t)=>{for(let i=0;i<e.length;i++)e[i].validator||(e[i].message=e[i].message||t)},M=(e,t)=>{e.rules&&Object.keys(e.rules).forEach(i=>{E(e.rules[i],t)})},V=(e,t)=>{for(let i=0;i<e.length;i++)e[i].rules&&E(e[i].rules,t)};i(396),i(397),i(398),i(400),i(401),i(402),i(403);const A=e=>{const t=e.filter(e=>"selectInput"!==e.itemType).map(e=>e.prop);return e.filter(e=>"selectInput"===e.itemType).forEach(e=>{e.options.forEach(e=>{t.push(e.value)})}),new Set(t).size!==t.length},F=e=>{if(Array.isArray(e))return[];return{boolean:!1,number:0,string:""}[(typeof e).toLowerCase()]},I=(e,t,i)=>{const a=JSON.parse(JSON.stringify(i));Object.keys(e).forEach(i=>{e[i]=t[i]||(void 0!==a[i]&&null!==a[i]?a[i]:F(e[i]))})},N=(e,t)=>{t.filter(e=>"currency"===e.itemType).map(e=>e.prop).forEach(t=>{e[t]=parseInt(e[t])})},P=(e,t)=>{t.filter(e=>void 0!==e.isExist&&!e.isExist).map(e=>e.prop).forEach(t=>{e[t]=F(e[t])})};var L=i(338),R={name:"BoDialog",mixins:[L.a],components:{BoFormItem:D},computed:{formTitle(){const e={add:this.t("bo.dialog.addFormTitle"),edit:this.t("bo.dialog.editFormTitle"),preview:this.t("bo.dialog.previewFormTitle")}[this.form.type];return this.title||e},isPreview(){return"preview"===this.form.type}},watch:{visible:{immediate:!0,handler(e){if((void 0===this.form.resetOnAdd||this.form.resetOnAdd)&&e&&"add"===this.form.type){const{params:e}=B(this.formItems);I(this.form.model,e,this.firstModel)}}},form:{immediate:!0,handler(e){M(e,this.t("bo.dialog.formRuleMessage"))}},formItems:{immediate:!0,handler(e){V(e,this.t("bo.dialog.formRuleMessage")),P(this.form.model,e)}}},props:{title:{type:String,default:""},form:{type:Object,default:()=>({})},formItems:{type:Array,default:()=>[]},visible:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},confirmTitle:{type:String},showFooter:{type:Boolean,default:!0},showApprove:{type:Boolean,default:!1},approveTitle:{type:String}},data(){const{formItems:e}=this.$props,{params:t,pickerOptions:i,monthPickerOptions:a}=B(e);return{dialogWidth:null,labelPosition:null,params:t,pickerOptions:i,monthPickerOptions:a,firstModel:{}}},methods:{confirm(){this.$refs.dialogForm.validate(e=>{if(!e)return this.$message.error(this.t("bo.dialog.formValidationFailMessage")),!1;N(this.form.model,this.formItems),this.$emit("confirm",{...this.form.model})})},closeDialog(){this.$emit("update:visible",!1)},closeLoading(){this.$emit("update:loading",!1)},onResize(){window.innerWidth<600?(this.dialogWidth="100%",this.labelPosition="top"):(this.dialogWidth=this.$attrs.width||"50%",this.labelPosition="left")},onChange(e){const t=this.form.model[e.prop];e.change&&e.change(t)},handleOpen(){this.$emit("open")},handleOpened(){this.$emit("opened")},handleApprove(){this.$refs.dialogForm.validate(e=>{if(!e)return this.$message.error(this.t("bo.dialog.formValidationFailMessage")),!1;N(this.form.model,this.formItems),this.$emit("handleApprove",{...this.form.model})})}},mounted(){this.$nextTick(()=>{this.onResize(),window.addEventListener("resize",this.onResize),this.firstModel=JSON.parse(JSON.stringify(this.form.model))})},beforeDestroy(){window.removeEventListener("resize",this.onResize)}},j=R,z=(i(471),Object(r.a)(j,w,S,!1,null,null,null)),H=z.exports;H.install=function(e){e.component(H.name,H)};var q=H,W=i(430),U=i(431),J=function(){var e=this,t=e._self._c;return t("div",[t("el-menu",{staticClass:"bo-menu",attrs:{"default-active":e.rootIndex,mode:"horizontal"},on:{select:e.handleSelect}},e._l(e.menus,(function(i,a){return t("el-menu-item",{key:a,attrs:{index:i.index||i.label}},[e._v(e._s(i.label))])})),1),e._v(" "),t("div",{staticClass:"container",staticStyle:{"margin-top":"20px"}},[e.treeData?t("div",{staticClass:"tree-block"},[t("el-tree",{attrs:{data:e.treeData,"node-key":"id","default-expand-all":""},on:{"node-click":e.nodeClick},scopedSlots:e._u([{key:"default",fn:function({node:i,data:a}){return t("span",{staticClass:"custom-tree-node",class:{active:e.activeIndex&&e.activeIndex===a.index}},[t("span",[e._v(e._s(i.label))]),e._v(" "),0===i.parent.level&&a.children?t("span",[e._v("\n            ("+e._s(a.children.length)+")\n          ")]):e._e()])}}],null,!1,489976536)})],1):e._e(),e._v(" "),t("div",{staticClass:"page"},[t("keep-alive",[e.keepAlive?e._t(e.activeIndex):e._e()],2),e._v(" "),e.keepAlive?e._e():e._t(e.activeIndex)],2)])],1)},K=[];const G=(e,t,i=null,a="",n=0)=>{if(!t||i)return i;for(let o=0;o<t.length;o++){const l=t[o];if(a=0===n?l.index||l.label:a,!i&&e(l)){i={rootKey:a,index:l.index};break}const s=l.children;i=G(e,s,i,a,n+1)}return i};var Y={name:"BoMenu",props:{menus:{required:!0,type:Array},keepAlive:{require:!1,type:Boolean,default:!1}},data:()=>({rootIndex:"",activeIndex:""}),computed:{treeData(){return this.menus.find(e=>(e.index||e.label)===this.rootIndex).children||null}},created(){this.setTabFromUrl(),this.setActiveIndex()},methods:{setActiveIndex(e=this.menus){let t=null;this.activeIndex&&(t=G(e=>e.index===this.activeIndex,e)),t||(t=G(e=>e.default,e)||G(e=>!!e.index,e)),this.rootIndex=t.rootKey,this.activeIndex=t.index,this.addTabToUri(!0)},handleSelect(e){const t=this.menus.find(t=>(t.index||t.label)===e);this.setActiveIndex([t])},setTabFromUrl(){const e=this.$route.query.tab;e&&(this.activeIndex=e)},addTabToUri(e){let t={tab:this.activeIndex};e&&(t={...this.$route.query,...t}),this.$router.replace({query:t})},nodeClick(e){e.index&&(this.activeIndex=e.index,this.addTabToUri())}}},Q=Y,X=(i(472),i(473),Object(r.a)(Q,J,K,!1,null,"120da1cf",null)),Z=X.exports;Z.install=function(e){e.component(Z.name,Z)};var ee=Z,te=function(){var e=this,t=e._self._c;return t("div",{ref:"bopage",staticClass:"bopage"},[void 0!==e.titleOptions.title?t("bo-title",{attrs:{titleOptions:e.titleOptions}}):e._e(),e._v(" "),e._t("nextTitle"),e._v(" "),Object.keys(e.formOptions).length&&e.isSearch?t("bo-search",e._b({ref:"searchForm",attrs:{loading:e.loading},on:{search:t=>{e.searchHandler(t,"clickSearch")},excel:e.excelHandler},scopedSlots:e._u([e.tips&&e.tips.length?{key:"tips",fn:function(){return[t("el-button",{staticClass:"tip-btn",attrs:{type:"text",icon:"el-icon-question"},on:{click:function(t){e.dialogVisible=!0}}}),e._v(" "),t("el-dialog",{attrs:{"custom-class":"dialog-width",title:e.t("bo.page.tipDialogTitle"),visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},e._l(e.tips,(function(i,a){return t("div",{key:a+"contents"},[e._v("\n                    "+e._s(a+1)+". "+e._s(i.label||i)+"\n                    "),e._l(i.child||[],(function(i,a){return t("div",{key:a+"child"},[e._v("\n                        "+e._s(i)+"\n                    ")])}))],2)})),0)]},proxy:!0}:null],null,!0)},"bo-search",e.formOptions,!1),[e.showChartBtn&&e.formOptions.isShowChartBtn?t("el-button",{attrs:{icon:"el-icon-data-line",type:"primary"},on:{click:e.toggleChart}},[e._v("\n            "+e._s(e.t("bo.page.chartButtonText"))+"\n        ")]):e._e()],1):e._e(),e._v(" "),e.chartOptions.visible?t("bo-chart",{attrs:{type:e.chartOptions.type,option:e.chartOptions.option}}):e._e(),e._v(" "),t("div",{staticClass:"extra-btn-div",staticStyle:{"margin-top":"-58px","margin-bottom":"20px",float:"right"}},[e._t("extraBtn",null,{filter:e.filter,sort:e.sort,multSelect:e.multSelect})],2),e._v(" "),e._t("preTable"),e._v(" "),e.tabs.length?t("el-tabs",{class:{"is-hide-tabs":1===e.tabs.length},staticStyle:{"margin-top":"-6px"},on:{"tab-click":e.setChartOptions},model:{value:e.tabActiveName,callback:function(t){e.tabActiveName=t},expression:"tabActiveName"}},e._l(e.tabs,(function(i,a){return t("el-tab-pane",{key:a+"tab",attrs:{label:i.label,name:a+"tab"}},[t("bo-table",e._b({directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],attrs:{height:void 0!==i.tableOptions.height?i.tableOptions.height:e.height,border:e.showBorder,columns:i.columns},on:{"sort-change":e.sortChange},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,i){return{key:i,fn:function(t){return[e._t(i,null,null,t)]}}}))],null,!0)},"bo-table",i.tableOptions,!1),[e._l(e.$slots,(function(t,i){return e._t(i,null,{slot:i})}))],2)],1)})),1):t("bo-table",e._b({directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],attrs:{height:void 0!==e.tableOptions.height?e.tableOptions.height:e.height,border:e.showBorder,columns:e.columns},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,i){return{key:i,fn:function(t){return[e._t(i,null,null,t)]}}}))],null,!0)},"bo-table",e.tableOptions,!1),[e._l(e.$slots,(function(t,i){return e._t(i,null,{slot:i})}))],2),e._v(" "),e._t("nextTable"),e._v(" "),e.showPagination?t("bo-pagination",{attrs:{total:e.tableOptions.paginationTotals,page:e.pagination.page,autoScroll:e.tableOptions.autoScroll,limit:e.pagination.pageSize,disabled:e.loading},on:{"update:page":function(t){return e.$set(e.pagination,"page",t)},"update:limit":function(t){return e.$set(e.pagination,"pageSize",t)},pagination:t=>{e.searchHandler(t,"pagination")}}}):e._e()],2)},ie=[],ae=function(){var e=this,t=e._self._c;return t("div",{staticClass:"bo-title-div"},[t("div",{staticStyle:{width:"640px","max-width":"60%"}},[t("p",{staticClass:"bo-title-title"},[e._v(e._s(e.titleOptions.title))]),e._v(" "),t("p",{staticClass:"bo-title-subtitle"},[e._v(e._s(e.titleOptions.subtitle))])]),e._v(" "),t("img",{staticClass:"bo-title-logo",attrs:{src:e.titleOptions.logo,alt:""}})])},ne=[],oe={name:"BoTitle",data:()=>({}),props:{titleOptions:{type:Object,default:()=>({})}}},le=oe,se=(i(474),Object(r.a)(le,ae,ne,!1,null,"9605bc14",null)),re=se.exports;re.install=function(e){e.component(re.name,re)};var ce=re,ue=function(){var e=this,t=e._self._c;return t("el-form",{ref:"form",attrs:{model:e.params,inline:!0,"show-message":!1},on:{validate:e.validate},nativeOn:{submit:function(e){e.preventDefault()}}},[e._l(e.forms,(function(i,a){return t("el-form-item",{key:a,attrs:{prop:i.prop,label:i.label,required:i.required,rules:i.rules||[]}},[e.formItemSet.has(i.itemType)?t("bo-form-item",{attrs:{item:i,formModel:e.params,monthPickerOptions:e.monthPickerOptions,pickerOptions:e.pickerOptions},on:{input:function(t){return e.onChange(i)}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchHandler.apply(null,arguments)}},model:{value:e.params[i.prop],callback:function(t){e.$set(e.params,i.prop,t)},expression:"params[form.prop]"}}):"cascader"===i.itemType?t("bo-cascader",e._g(e._b({attrs:{"show-all-levels":!1},model:{value:e.params[i.prop],callback:function(t){e.$set(e.params,i.prop,t)},expression:"params[form.prop]"}},"bo-cascader",i,!1),i.events)):"checkbox"===i.itemType?t("bo-checkbox",e._g(e._b({model:{value:e.params[i.prop],callback:function(t){e.$set(e.params,i.prop,t)},expression:"params[form.prop]"}},"bo-checkbox",i,!1),i.events)):"inputNumber"===i.itemType?t("bo-input-number",e._g(e._b({model:{value:e.params[i.prop],callback:function(t){e.$set(e.params,i.prop,t)},expression:"params[form.prop]"}},"bo-input-number",i,!1),i.events)):"switch"===i.itemType?t("bo-switch",e._g(e._b({model:{value:e.params[i.prop],callback:function(t){e.$set(e.params,i.prop,t)},expression:"params[form.prop]"}},"bo-switch",i,!1),i.events)):"slider"===i.itemType?t("bo-slider",e._g(e._b({model:{value:e.params[i.prop],callback:function(t){e.$set(e.params,i.prop,t)},expression:"params[form.prop]"}},"bo-slider",i,!1),i.events)):"selectInput"===i.itemType?t("bo-select-input",{style:i.style,attrs:{form:i,disabled:i.disabled},on:{onEnter:e.searchHandler},model:{value:e.params,callback:function(t){e.params=t},expression:"params"}}):"selectDate"===i.itemType?t("bo-select-date",{style:i.style,attrs:{value:e.params[i.prop],period:e.params[i.periodName],"period-range":i.periodRange,disabled:i.disabled},on:{"update:value":function(t){return e.$set(e.params,i.prop,t)},"update:period":function(t){return e.$set(e.params,i.periodName,t)}}}):"datePicker"===i.itemType?t("bo-date-picker",e._g(e._b({model:{value:e.params[i.prop],callback:function(t){e.$set(e.params,i.prop,t)},expression:"params[form.prop]"}},"bo-date-picker",i,!1),i.events)):"section"===i.itemType?t("bo-section",{attrs:{maxSections:i.maxSections,disabled:i.disabled,minShowDelete:i.minShowDelete},on:{input:i.Econfirm,onDefault:i.Edefault},model:{value:e.params[i.prop],callback:function(t){e.$set(e.params,i.prop,t)},expression:"params[form.prop]"}}):"datetimerange"===i.itemType?t("el-date-picker",e._g(e._b({style:i.style,attrs:{type:"datetimerange",clearable:!1,placeholder:i.placeholder,"picker-options":i.pickerOptions,"value-format":i.valueFormat||"",format:i.format||"yyyy-MM-dd HH:mm:ss","start-placeholder":"开始时间","end-placeholder":"结束时间","default-time":i.defaultTime,disabled:i.disabled},model:{value:e.params[i.prop],callback:function(t){e.$set(e.params,i.prop,t)},expression:"params[form.prop]"}},"el-date-picker",i.props,!1),i.events)):e._e()],1)})),e._v(" "),t("el-form-item",{staticClass:"bo-search-btn-div",attrs:{label:""}},[e.showReset?t("el-button",e._b({attrs:{type:"primary",icon:"el-icon-refresh",loading:e.loading},on:{click:e.resetHandler}},"el-button",e.searchBtn,!1),[e._v("\n      "+e._s(e.resetBtn.text||e.t("bo.search.resetButtonText"))+"\n    ")]):e._e(),e._v(" "),t("el-button",e._b({attrs:{type:"primary",icon:"el-icon-search",loading:e.loading},on:{click:e.searchHandler}},"el-button",e.searchBtn,!1),[e._v("\n      "+e._s(e.submitBtnText||e.t("bo.search.submitButtonText"))+"\n    ")]),e._v(" "),e.showExcel?t("el-button",e._b({attrs:{type:e.exportBtn.type||"primary",icon:"el-icon-download",loading:e.loading},on:{click:e.excelHandler}},"el-button",e.exportBtn,!1),[e._v("\n      "+e._s(e.exportBtn.text||e.t("bo.search.exportButtonText"))+"\n      "),e.exportBtn.percentage?t("span",[e._v(" ("),t("animationNumber",{attrs:{number:e.exportBtn.percentage}}),e._v("%) ")],1):e._e()]):e._e(),e._v(" "),e._t("default"),e._v(" "),e._t("tips")],2)],2)},pe=[],me=i(433),de=function(){var e=this,t=e._self._c;return t("div",[t("el-input",{staticClass:"select-input",attrs:{type:"text",clearable:"",placeholder:e.form.placeholder},on:{blur:function(t){return e.trimOnBlur(e.form.prop)},input:e.onInput},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnter.apply(null,arguments)}},model:{value:e.params[e.form.prop],callback:function(t){e.$set(e.params,e.form.prop,t)},expression:"params[form.prop]"}},[t("el-select",{attrs:{slot:"prepend"},on:{change:e.resetSelectInputParams},slot:"prepend",model:{value:e.form.prop,callback:function(t){e.$set(e.form,"prop",t)},expression:"form.prop"}},e._l(e.form.options,(function(e,i){return t("el-option",{key:i+"_local",attrs:{value:e.value,label:e.label}})})),1)],1)],1)},he=[],fe={name:"BoSelectInput",props:{value:{type:Object,default:()=>({})},form:{type:Object,default:()=>({})}},data:()=>({isMounted:!1}),watch:{form:{immediate:!0,handler(){this.resetSelectInputParams()}}},computed:{params:{get(){return this.value},set(e){this.$emit("input",e)}}},mounted(){this.isMounted=!0,this.resetSelectInputParams()},methods:{trimOnBlur(e){this.params[e]=this.params[e].trim()},resetSelectInputParams(){const e=this.params[this.form.prop];if(!this.isMounted||e)return;const t=this.params[this.form.selectName];t&&this.$delete(this.params,t),this.$set(this.params,this.form.selectName,this.form.prop)},onEnter(){this.$emit("onEnter")},onInput(e){this.params[this.form.prop]=e.replace(/[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF][\u200D|\uFE0F]|[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF]|[0-9|*|#]\uFE0F\u20E3|[0-9|#]\u20E3|[\u203C-\u3299]\uFE0F\u200D|[\u203C-\u3299]\uFE0F| [\u2122-\u2B55]|\u303D|[\A9|\AE]\u3030|\uA9|\uAE|\u3030/gi,"")}}},ge=fe,be=(i(475),Object(r.a)(ge,de,he,!1,null,null,null)),ye=be.exports;ye.install=function(e){e.component(ye.name,ye)};var ve=ye,_e=function(){var e=this,t=e._self._c;return t("div",[t("el-select",{staticStyle:{width:"100px","margin-right":"5px"},on:{change:e.setValue},model:{value:e.periodType,callback:function(t){e.periodType=t},expression:"periodType"}},e._l(e.periodRange,(function(e){return t("el-option",{key:e,attrs:{value:e,label:e.slice(0,1).toUpperCase()+e.slice(1)}})})),1),e._v(" "),"week"===e.periodType?t("el-date-picker",{staticStyle:{width:"160px"},attrs:{type:"week",format:e.t("bo.selectData.weekFormat")||"Week WW of yyyy","value-format":"yyyyMMdd",clearable:!1},model:{value:e.dateValue,callback:function(t){e.dateValue=t},expression:"dateValue"}}):"month"===e.periodType?t("el-date-picker",{staticStyle:{width:"160px"},attrs:{type:"month","value-format":"yyyyMMdd",clearable:!1},model:{value:e.dateValue,callback:function(t){e.dateValue=t},expression:"dateValue"}}):"year"===e.periodType?t("el-date-picker",{staticStyle:{width:"160px"},attrs:{type:"year","value-format":"yyyyMMdd",clearable:!1},model:{value:e.dateValue,callback:function(t){e.dateValue=t},expression:"dateValue"}}):t("el-date-picker",{staticStyle:{width:"160px"},attrs:{type:"date","value-format":"yyyyMMdd",clearable:!1},model:{value:e.dateValue,callback:function(t){e.dateValue=t},expression:"dateValue"}})],1)},xe=[],ke={name:"BoSelectDate",mixins:[L.a],props:{value:{type:[String,Number],default:O(new Date,"{y}{m}{d}")},period:{type:String,default:"daily"},periodRange:{type:Array,default:()=>["daily","week","month","year"]}},data(){return{dateValue:this.value+""}},computed:{periodType:{get(){return this.period},set(e){this.$emit("update:period",e)}}},watch:{dateValue:function(e){this.setValue(this.periodType,e)}},created(){this.setValue(),this.$emit("update:period",this.period)},methods:{setValue(e=this.periodType,t=this.dateValue){t=this.transforDate(e,t),this.$emit("update:value",t)},transforDate(e,t){let i=t.substring(0,4)+"-"+t.substring(4,6)+"-"+t.substring(6,8);if("daily"===e)return t;return"week"===e&&(i=new Date(i).getTime()-864e5*new Date(i).getDay()),O(i,{week:"{y}{m}{d}",month:"{y}{m}",year:"{y}"}[e])}}},Te=ke,we=Object(r.a)(Te,_e,xe,!1,null,null,null),Se=we.exports;Se.install=function(e){e.component(Se.name,Se)};var $e=Se,De=function(){var e=this,t=e._self._c;return t("div",{staticClass:"bo-section"},[t("el-popover",{attrs:{"popper-class":"bo-section-popover",placement:"bottom",width:"400"},on:{show:e.initSetting},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[t("el-input",{staticClass:"input",attrs:{slot:"reference",value:e.inputValue,readonly:""},slot:"reference"}),e._v(" "),t("h4",{staticClass:"title"},[e._v("\n      "+e._s(e.t("bo.section.popoverTitle"))+"\n    ")]),e._v(" "),t("el-radio-group",{on:{input:e.radioChange},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},e._l(e.radioList,(function(i){return t("div",{key:i,staticClass:"radios-block"},[t("el-radio",{attrs:{label:i}},[e._v(e._s(i))])],1)})),0),e._v(" "),e.radioValue!==e.radioList[0]?t("div",{staticClass:"content"},[e._l(e.sectionLength,(function(i,a){return t("div",{key:"section"+a,staticClass:"section-block"},[e._v("\n        "+e._s(e.t("bo.section.section"))+" "+e._s(a+1)+":"+e._s(0===a?"(":"[")+"\n        "),t("span",{staticClass:"input-block"},[a>0?t("el-input",{attrs:{value:e.clonedValue[a-1],size:"mini",disabled:""}}):t("span",[e._v("- ∞")])],1),e._v("\n        ,\n        "),t("span",{staticClass:"input-block"},[a!==e.sectionLength-1?t("el-input",{attrs:{type:"number",size:"mini"},on:{blur:function(t){return e.adjustRange(a)}},model:{value:e.clonedValue[a],callback:function(t){e.$set(e.clonedValue,a,t)},expression:"clonedValue[index]"}}):t("span",[e._v("+ ∞")])],1),e._v("\n\n        )\n        "),a===e.sectionLength-1&&e.sectionLength>=e.minShowDelete?t("span",[t("el-button",{staticClass:"delete-btn",attrs:{icon:"el-icon-close",type:"text"},on:{click:e.removeLastSection}})],1):e._e()])})),e._v(" "),t("el-button",{attrs:{icon:"el-icon-circle-plus-outline",type:"text"},on:{click:e.addSection}},[e._v(e._s(e.t("bo.section.addSection")))]),e._v(" "),t("el-button",{staticClass:"default-btn",attrs:{size:"mini"},on:{click:e.setAsDefault}},[e._v(e._s(e.t("bo.section.setAsDefault")))])],2):e._e(),e._v(" "),t("div",{staticClass:"footer"},[t("el-button",{attrs:{size:"mini"},on:{click:function(t){e.visible=!1}}},[e._v("\n        "+e._s(e.t("bo.section.cancelButtonText"))+"\n      ")]),e._v(" "),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.confirm}},[e._v("\n        "+e._s(e.t("bo.section.confirmButtonText"))+"\n      ")])],1)],1)],1)},Oe=[],Ce={name:"BoSection",mixins:[L.a],props:{maxSections:{type:Number,default:10},minShowDelete:{type:Number,default:3},value:{type:[String,Array],default:()=>[]}},data(){const e=this.t("bo.section.default"),t=this.t("bo.section.custom");return{visible:!1,defaultText:e,customText:t,inputValue:"",radioValue:"",radioList:[e,t],clonedValue:[]}},computed:{sectionLength(){return this.clonedValue.length+1}},mounted(){this.initSetting()},methods:{initSetting(){const e=this.value.length?this.customText:this.defaultText;this.inputValue=e,this.radioValue=this.inputValue,this.radioChange()},radioChange(){this.radioValue===this.radioList[0]&&(this.clonedValue=[]),this.radioValue===this.radioList[1]&&(this.clonedValue=this.value.length?[...this.value]:[null])},removeLastSection(){const e=this.clonedValue.length-1;this.clonedValue=this.clonedValue.filter((t,i)=>i!==e)},addSection(){this.sectionLength>=this.maxSections?this.$message({message:this.t("bo.section.maximumSectionMessage",{maxSections:this.maxSections}),type:"error"}):this.clonedValue=[...this.clonedValue,null]},adjustRange(e){const t=+this.clonedValue[e],i=0===e?null:+this.clonedValue[e-1];null!==i&&t<i&&this.$message({message:this.t("bo.section.sectionValueRangeErrorMessage"),type:"error"})},isNotValid(){const e=this.clonedValue.some((e,t)=>{const i=null===e||""===e,a=t>0&&+e<=+this.clonedValue[t-1];return i||a});return e&&this.$message({message:this.t("bo.section.sectionValueTypeErrorMessage"),type:"error"}),e},setAsDefault(){this.isNotValid()||this.$emit("onDefault",this.clonedValue)},confirm(){this.isNotValid()||(this.inputValue=this.radioValue,this.$emit("input",this.clonedValue),this.visible=!1)}}},Be=Ce,Ee=(i(476),i(477),Object(r.a)(Be,De,Oe,!1,null,"406b148b",null)),Me=Ee.exports;Me.install=function(e){e.component(Me.name,Me)};var Ve=Me;const Ae={template:"<span>{{ displayNumber }}</span>",props:{number:{default:0}},data:()=>({displayNumber:0,interval:!1}),mounted(){this.displayNumber=this.number?this.number:0},watch:{number:{immediate:!0,handler(){clearInterval(this.interval),this.number!=this.displayNumber&&(this.interval=window.setInterval(()=>{if(this.displayNumber!=this.number){let e=(this.number-this.displayNumber)/10;e=e>=0?Math.ceil(e):Math.floor(e),this.displayNumber=this.displayNumber+e}},20))}}}};var Fe={name:"BoSearch",mixins:[L.a],props:{labelWidth:String,itemWidth:String,loading:{type:Boolean,default:!1},submitBtnText:{type:String},forms:{type:Array,required:!0},showReset:{type:Boolean,default:!1},showExcel:{type:Boolean,default:!1},exportBtn:{type:Object,default:()=>({})},searchBtn:{type:Object,default:()=>({})},resetBtn:{type:Object,default:()=>({})}},components:{animationNumber:Ae,BoFormItem:D,BoCascader:me.a,BoSelectInput:ve,BoSelectDate:$e,BoSection:Ve},data(){const e=new Set(["input",void 0,"textarea","select","radio","multSelect","date","datetime","monthrange","daterange"]),{forms:t}=this.$props;A(t)&&console.error("BoSearch form has duplicated prop.");const{params:i,pickerOptions:a,monthPickerOptions:n}=B(t);return{formItemSet:e,params:i,pickerOptions:a,monthPickerOptions:n}},methods:{onChange(e){const t=this.params[e.prop];e.change&&e.change(t)},validate(e,t,i){t||this.$message({message:i,type:"error"})},resetHandler(){this.$refs.form.resetFields(),this.searchHandler()},searchHandler(){this.validateDateRange()&&this.$refs.form.validate(e=>{if(!e)return!1;{let e={...this.params};e.date&&e.date instanceof Array&&e.date.length&&(e.startAt=e.date[0],e.endAt=e.date[1],e.startTime=e.date[0],e.endTime=e.date[1],delete e.date),e.filterTime&&e.filterTime instanceof Array&&e.filterTime.length&&(e.startTime=e.filterTime[0]+" 00:00:00",e.endTime=e.filterTime[1]+" 23:59:59",delete e.filterTime),Object.keys(e).forEach(t=>{""===e[t]&&delete e[t]}),this.$emit("search",{...e})}})},excelHandler(){this.validateDateRange()&&this.$refs.form.validate(e=>{if(!e)return!1;{let e={...this.params};e.date&&e.date instanceof Array&&e.date.length&&(e.startAt=e.date[0],e.endAt=e.date[1],e.startTime=e.date[0],e.endTime=e.date[1],delete e.date),e.filterTime&&e.filterTime instanceof Array&&e.filterTime.length&&(e.startTime=e.filterTime[0]+" 00:00:00",e.endTime=e.filterTime[1]+" 23:59:59",delete e.filterTime),Object.keys(e).forEach(t=>{""===e[t]&&delete e[t]}),this.$emit("excel",{...e})}})},validateDateRange(){let e=!0;this.forms.filter(e=>"daterange"===e.itemType).forEach(t=>{const i=this.params[t.prop],a=t.maxRangeDays;if(a&&i&&2===i.length){const t=e=>new Date(e),n=Math.abs(t(i[1])-t(i[0]));Math.ceil(n/864e5)+1>a&&(e=!1,this.$message({message:this.t("bo.search.maximumRangeDaysErrorMessage",{maxRangeDays:a}),type:"error"}))}});return this.forms.filter(e=>"datetimerange"===e.itemType).forEach(t=>{const i=this.params[t.prop],a=t.maxRangeDays;if(a&&i&&2===i.length){const t=Math.abs(i[1]-i[0]);Math.ceil(t/864e5)>a&&(e=!1,this.$message({message:this.t("bo.search.maximumRangeDaysErrorMessage",{maxRangeDays:a}),type:"error"}))}}),e},getParamsFromUrl(){const e=this.$route.query,t=this.forms.find(e=>"selectInput"===e.itemType),i=t&&e[t.selectName];i&&(t.prop=i);const a=e=>!isNaN(e),n=["input",void 0,"selectInput"];for(const t in e){const i=this.forms.find(e=>e.prop===t),o=e[t];i&&"multSelect"===i.itemType?Array.isArray(o)?this.params[t]=o.map(e=>a(e)?+e:e):this.params[t]=[a(o)?+o:o]:i&&n.includes(i.itemType)?this.params[t]=o:this.params[t]=a(o)?+o:o}},addParamsToUri(e){const t=this.forms.filter(e=>!!e.urlSync).map(e=>e.prop);this.forms.forEach(e=>{"selectDate"===e.itemType&&e.urlSync&&t.push(e.periodName)}),this.forms.forEach(e=>{"selectInput"===e.itemType&&e.urlSync&&t.push(e.selectName)}),t.includes("tab")&&console.error("urlSync cannot use the 'tab' keyword, it's used by BoMenu.");const i={};for(const a in e){const n=e[a],o=0===n||!!n;t.includes(a)&&o&&(i[a]=n)}const a={tab:this.$route.query.tab,...i};this.$router.replace({query:a})},getData(){return{formData:this.params}}},created(){this.getParamsFromUrl()}},Ie=Fe,Ne=(i(478),Object(r.a)(Ie,ue,pe,!1,null,"ff4c738e",null)),Pe=Ne.exports;Pe.install=function(e){e.component(Pe.name,Pe)};var Le=Pe,Re=function(){var e=this,t=e._self._c;return t("div",{staticClass:"bo-table"},[t("el-table",e._b({key:e.key,ref:"elTableRef",attrs:{data:e.extraData},on:{"sort-change":e.sortChange,select:e.select,"selection-change":e.handleSelectionChange,"select-all":e.handleSelectAll,"cell-mouse-enter":e.cellMouseEnter,"cell-mouse-leave":e.cellMouseLeave,"cell-click":e.cellClick,"cell-dblclick":e.cellDblclick,"row-click":e.rowClick,"row-contextmenu":e.rowContextmenu,"row-dblclick":e.rowDblclick,"header-click":e.headerClick,"header-contextmenu":e.headerContextmenu,"filter-change":e.filterChange,"current-change":e.currentChange,"header-dragend":e.headerDragend,"expand-change":e.expandChange}},"el-table",e.$attrs,!1),[e.showCheckbox?t("el-table-column",{attrs:{align:"center",type:"selection",width:"55"}}):e._e(),e._v(" "),e._l(e.columns,(function(i,a){return t("table-column",{key:a,attrs:{column:i},on:{toggleImage:e.toggleImage},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,i){return{key:i,fn:function(t){return[e._t(i,null,null,t)]}}}))],null,!0)},[e._l(e.$slots,(function(t,i){return e._t(i,null,{slot:i})}))],2)}))],2),e._v(" "),t("div",{staticClass:"image-modal",class:{open:e.imageModal.visible},on:{click:e.toggleImage}},[t("img",{staticClass:"modal-content",attrs:{src:e.imageModal.src}})])],1)},je=[],ze=(i(129),function(){var e=this,t=e._self._c;return["selection","index"].includes(e.column.type)?t("el-table-column",e._b({attrs:{align:e.column.align||"left",sortable:e.column.sortable||!1}},"el-table-column",e.column,!1)):t("el-table-column",e._b({attrs:{align:e.column.align||"left",sortable:e.column.sortable||!1},scopedSlots:e._u([{key:"default",fn:function(i){return[e.column.slotName?t("span",[e._t(e.column.slotName,null,{row:i.row,$index:i.$index})],2):e.column.html?t("span",{domProps:{innerHTML:e._s(e.column.html(i.row))}}):e.column.render?t("span",[e._v("\n      "+e._s(e._f("boFilter")(e.column.render(i.row),e.column.filter||""))+"\n    ")]):e.column.filter?t("span",[e._v("\n      "+e._s(e._f("boFilter")(i.row[e.column.prop],e.column.filter))+"\n    ")]):e.column.pre?t("span",{staticStyle:{"white-space":"pre-wrap"}},[e._v("\n      "+e._s(i.row[e.column.prop])+"\n    ")]):e.column.linkPrefix?t("span",[t("el-link",{attrs:{href:e.column.linkPrefix+i.row[e.column.prop],type:"primary",target:e.column.target||"_blank"}},[e._v("\n        "+e._s(i.row[e.column.prop])+"\n      ")])],1):e.column.image?t("span",[t("el-image",{staticClass:"bo-table-image",style:e.column.image.style||"width: 70px;height: 70px;",attrs:{src:i.row[e.column.prop],fit:e.column.image.fit||"contain"},on:{click:function(t){return e.toggleImage(i.row[e.column.prop])}}},[e.column.errorMsg?t("div",{staticClass:"image__error",attrs:{slot:"error"},slot:"error"},[e._v("\n          "+e._s(e.column.errorMsg)+"\n        ")]):e._e()])],1):t("span",[e._v("\n      "+e._s(i.row[e.column.prop])+"\n    ")])]}}],null,!0)},"el-table-column",e.column,!1),[e.column.children&&e.column.children.length?e._l(e.column.children,(function(i,a){return t("table-column",{key:a,attrs:{column:i},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,i){return{key:i,fn:function(t){return[e._t(i,null,null,t)]}}}))],null,!0)},[e._l(e.$slots,(function(t,i){return e._t(i,null,{slot:i})}))],2)})):e._e()],2)}),He=[],qe={name:"TableColumn",props:{column:{type:Object,default:()=>({})}},methods:{toggleImage(e){e&&this.$emit("toggleImage",e)}}},We=qe,Ue=(i(479),i(480),Object(r.a)(We,ze,He,!1,null,"7848a5ff",null)),Je=Ue.exports;const Ke=e=>{const t=[],i=e=>{e.forEach(e=>{e.children?i(e.children):t.push(e)})};return i(e),t};var Ge={name:"BoTable",mixins:[L.a],components:{TableColumn:Je},data(){return{key:Date.now(),extraData:this.data,imageModal:{visible:!1,src:""}}},props:{data:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},summary:{type:[String,Object],default:null},showCheckbox:{type:Boolean,default:!1}},watch:{data:{immediate:!0,handler(e){const t=this.getSummaries();this.extraData=t?[t,...e]:[...e],this.$nextTick(()=>{this.$refs.elTableRef.doLayout()})}},columns:{immediate:!0,handler(e){this.key=Date.now();e.find(e=>"extraBtn"===e.slotName)&&alert("slot name 'extraBtn' is used for bo-search, columns 'slotName' cannot use it again.")}}},methods:{sortChange(e){this.$emit("sort-change",e)},select(){this.$emit("select",...arguments)},handleSelectionChange(){this.$emit("selection-change",...arguments)},handleSelectAll(){this.$emit("select-all",...arguments)},cellMouseEnter(){this.$emit("cell-mouse-enter",...arguments)},cellMouseLeave(){this.$emit("cell-mouse-leave",...arguments)},cellClick(){this.$emit("cell-click",...arguments)},cellDblclick(){this.$emit("cell-dblclick",...arguments)},rowClick(){this.$emit("row-click",...arguments)},rowContextmenu(){this.$emit("row-contextmenu",...arguments)},rowDblclick(){this.$emit("row-dblclick",...arguments)},headerClick(){this.$emit("header-click",...arguments)},headerContextmenu(){this.$emit("header-contextmenu",...arguments)},filterChange(){this.$emit("filter-change",...arguments)},currentChange(){this.$emit("current-change",...arguments)},headerDragend(){this.$emit("header-dragend",...arguments)},expandChange(){this.$emit("expand-change",...arguments)},toggleImage(e){this.imageModal.visible=!this.imageModal.visible,this.imageModal.src=e},getSummaries(){const e="string"==typeof(t=this.summary)||t instanceof String||!this.summary?this.summary:this.summary.type;var t;const i=this.summary&&this.summary.excludeProps?this.summary.excludeProps:[],a=this.summary&&this.summary.precision?this.summary.precision:2,n={avg:this.t("bo.table.avg"),sum:this.t("bo.table.sum")}[e],o=0===this.data.length;if(!e||!n||o)return null;const l={};return Ke(this.columns).forEach((t,o)=>{const s=t.prop;if(0===o)return void(l[s]=n);const r=this.data.map(e=>Number(e[s]));if(r.every(e=>isNaN(e))||i.includes(s))l[s]="-";else{const t=e=>Number.isInteger(e)?e:e.toFixed(a);if(this.summary.excludeZero){let i=0;const a=r.reduce((e,t)=>{const a=Number(t);return isNaN(a)?e:(0===a&&i++,e+t)},0),n=r.length-i,o=t("avg"===e?a/n:a);l[s]=o}else{const i=r.reduce((e,t)=>{const i=Number(t);return isNaN(i)?e:e+t},0),a=t("avg"===e?i/r.length:i);l[s]=a}}}),l}}},Ye=Ge,Qe=(i(481),Object(r.a)(Ye,Re,je,!1,null,"6249e99d",null)),Xe=Qe.exports;Xe.install=function(e){e.component(Xe.name,Xe)};var Ze=Xe,et=function(){var e=this,t=e._self._c;return t("div",{staticClass:"bo-chart"},["pie"===e.type?t("div",{staticClass:"pie-container"},e._l(e.option.series,(function(i,a){return t("div",{key:a,staticClass:"pie"},[t("div",{staticClass:"title"},[e._v(e._s(i.name))]),e._v(" "),t("v-chart",{staticClass:"chart",attrs:{option:{...e.option,series:i}}})],1)})),0):t("v-chart",{ref:"chartRef",attrs:{initOptions:e.initOptions}})],1)},tt=[],it=function(){return(0,this._self._c)("div",{staticClass:"v-chart"})},at=[],nt=i(519);function ot(e,t){let i=e,a=null;return function(){let e=this,n=arguments;clearTimeout(a),a=setTimeout((function(){i.apply(e,n)}),t)}}var lt={data:()=>({$_sidebarElm:null}),mounted(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_resizeHandler(){return ot(()=>{this.chart&&this.chart.resize()},100)()},$_initResizeEvent(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler(e){"width"===e.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}},st={name:"v-chart",mixins:[lt],props:{option:Object,initOptions:{type:Object,default:()=>({height:"400px"})}},data:()=>({chart:null}),watch:{option:{deep:!0,immediate:!0,handler(e){e&&this.$nextTick(()=>{this.setOption(e,!0)})}}},beforeDestroy(){this.chart&&(this.chart.dispose(),this.chart=null)},mounted(){this.chart=nt.a(this.$el,"macarons",this.initOptions)},methods:{setOption(e,t){this.chart.setOption(e,t)},clear(){this.chart.clear()}}},rt=st,ct=(i(485),Object(r.a)(rt,it,at,!1,null,"61c82ce8",null)),ut=ct.exports,pt={name:"BoChart",components:{vChart:ut},props:{type:{type:String,default:""},option:{type:Object,default:()=>({})},initOptions:{type:Object,default:()=>({height:"400px"})}},watch:{option:{deep:!0,immediate:!0,handler(e){"pie"!==this.type&&this.$nextTick(()=>{this.lastType&&this.lastType!==this.type&&this.clear(),this.$refs.chartRef.setOption(e,!0),this.lastType=this.type})}}},data:()=>({lastType:""}),mounted(){"pie"!==this.type&&this.$refs.chartRef.chart.on("dblclick",e=>{this.$emit("dblclick",e)})},methods:{clear(){this.$refs.chartRef.clear()}}},mt=pt,dt=(i(486),Object(r.a)(mt,et,tt,!1,null,"4a49cfa6",null)),ht=dt.exports;ht.install=function(e){e.component(ht.name,ht)};var ft=ht;const gt=({type:e,dataProps:t,columnLabelMap:i})=>t.map(t=>{const a={type:e,name:t.label||i[t.prop],smooth:t.smooth||!0};return t.color&&(a.lineStyle={color:t.color},a.itemStyle={color:t.color}),a}),bt=({dataProps:e,columnLabelMap:t})=>({tooltip:{trigger:"axis",axisPointer:null},legend:{orient:"horizontal",top:"top"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisTick:{alignWithLabel:!0}},yAxis:{type:"value"},series:gt({type:"line",dataProps:e,columnLabelMap:t})}),yt=({dataProps:e,columnLabelMap:t},i)=>({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{orient:"horizontal",top:"top"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:i?"value":"category",boundaryGap:!0,axisTick:{alignWithLabel:!0}},yAxis:{type:i?"category":"value"},series:gt({type:"bar",dataProps:e,columnLabelMap:t})}),vt=({dataProps:e,columnLabelMap:t})=>({tooltip:{trigger:"item",axisPointer:null},legend:{orient:"horizontal",top:"top"},series:gt({type:"pie",dataProps:e,columnLabelMap:t})}),_t=({tableOptions:e,columns:t})=>{let i=e.chart;if(!i)return;const a=i.labelProp;if(!a)return void console.error("chart.labelProp field is required.");if("row"===i.dimension){e=C(e);let i=(t=C(t)).filter(e=>e.prop===a).concat(e.data.map(e=>({prop:e[a],label:e[a]})));e.data=t.filter(e=>e.prop!==a).map(t=>{let i={};return e.data.forEach(e=>{i[e[a]]=e[t.prop]}),{[a]:t.label,...i}}),t=i}const n=i.type||"line",o=i.option||{};let l=t.filter(e=>e.prop!==a);i.dataProps&&i.dataProps.length&&(l=i.dataProps);const s=t.reduce((e,t)=>(e[t.prop]=t.label,e),{});let r={};"line"===n?r=bt({dataProps:l,columnLabelMap:s}):"bar"===n?r=yt({dataProps:l,columnLabelMap:s}):"horizontalBar"===n?r=yt({dataProps:l,columnLabelMap:s},!0):"pie"===n&&(r=vt({dataProps:l,columnLabelMap:s}));const c=l.map(e=>e.prop);let u=[a,...c];return i.excludeXAxis&&i.excludeXAxis.length>0&&(e.data=kt(e)),{type:n,option:{dataset:{dimensions:u,source:i.dataReverse?C(e.data).reverse():e.data},...r,...o}}},xt={boChartData:_t},kt=({chart:e,data:t})=>{const{labelProp:i,dimension:a,excludeXAxis:n}=e;return"row"===a?t.filter(e=>!n.includes(e[i])):t},Tt=e=>{let t=0,i=0;for(;e;)t+=e.offsetLeft-e.scrollLeft+e.clientLeft,i+=e.offsetTop-e.scrollLeft+e.clientTop,e=e.offsetParent;return{x:t,y:i}};var wt={name:"BoPage",mixins:[L.a],components:{BoTitle:ce,BoSearch:Le,BoPagination:k,BoTable:Ze,BoChart:ft},props:{titleOptions:{type:Object,default:()=>({})},formOptions:{type:Object,default:()=>({})},tips:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},tableOptions:{type:Object,default:()=>({})},tabs:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},isSearch:{type:Boolean,default:!0},hasPagination:{type:Boolean,default:!0},showBorder:{type:Boolean,default:!1}},data:()=>({pagination:{page:1,pageSize:20},height:"330px",filter:{},sort:{},tabActiveName:"0tab",dialogVisible:!1,chartOptions:{visible:!1,type:"",option:{}},multSelect:[]}),computed:{showPagination:function(){return!this.tabs.length&&this.hasPagination},showChartBtn(){return this.chartOptions&&this.chartOptions.type}},methods:{handleSelectionChange(e){this.multSelect=e},searchHandler(e,t){this.filter=e||this.filter,e&&(this.pagination.page=1),"deleteData"===t&&(this.pagination.page=1),this.$emit("update:loading",!0),this.$BACKOFFICE.loadMutation&&this.$store.commit(this.$BACKOFFICE.loadMutation,!0),this.showPagination?this.$emit("search",{...this.filter,...this.sort,limit:this.pagination.pageSize,skip:(this.pagination.page-1)*this.pagination.pageSize,pageNo:this.pagination.page-1,pageNum:this.pagination.page,pageSize:this.pagination.pageSize,executor:t}):this.$emit("search",{...this.filter,...this.sort,executor:t})},excelHandler(e){this.filter=e||this.filter,this.tabs&&this.tabs.length&&(this.filter.tabActive=parseInt(this.tabActiveName)+1),this.filter.multSelect=this.multSelect,this.$emit("excel",{...this.filter,...this.sort,limit:1e4,skip:0,pageNo:0,pageNum:1,pageSize:1e4})},autoHeight(){const e=this.$refs.bopage.offsetHeight,t=Tt(this.$refs.bopage),i=window.innerHeight-(e+t.y+20)+parseInt(this.height);this.height=(i>330?i:330)+"px"},autoSearch(){this.$refs.searchForm.searchHandler(null,"autoSearch")},sortChange({order:e,prop:t}){this.sort={order:e,prop:t},this.searchHandler(null,"sortChange")},setChartOptions(e){let t=this.tableOptions||{},i=this.columns||[];if(!e&&this.tabs&&this.tabs.length){const e=parseInt(this.tabActiveName);t=this.tabs[e].tableOptions,i=this.tabs[e].columns}if(e){const a=+e.index;t=this.tabs[a].tableOptions,i=this.tabs[a].columns}t&&t.chart&&t.chart.show&&(this.chartOptions.visible=!0);const a=Ke(i);if(!(t&&t.data&&t.data.length))return this.chartOptions.visible=!1,this.chartOptions.type="",void(this.chartOptions.option=null);const n=xt.boChartData({tableOptions:t,columns:a});n&&(this.chartOptions.type=n.type,this.chartOptions.option=n.option)},toggleChart(){this.chartOptions.visible=!this.chartOptions.visible},getData(){const{formData:e}=this.$refs.searchForm.getData();return{formData:e,pagination:this.pagination}}},mounted(){this.$BACKOFFICE.loadMutation&&this.$store.commit(this.$BACKOFFICE.loadMutation,this.loading),this.$BACKOFFICE.loadState&&this.$watch(this.$BACKOFFICE.loadState,(function(e){e||this.$emit("update:loading",!1)})),this.$nextTick(()=>{document.querySelector(".bo-search-btn-div")?document.querySelector(".extra-btn-div").getBoundingClientRect().left-document.querySelector(".bo-search-btn-div").getBoundingClientRect().right<100&&(document.querySelector(".extra-btn-div").style.marginTop="0px",document.querySelector(".extra-btn-div").style.float="left"):(document.querySelector(".extra-btn-div").style.marginTop="0px",document.querySelector(".extra-btn-div").style.float="left"),this.autoHeight(),this.setChartOptions(),this.formOptions.autoSearch&&this.autoSearch()})},watch:{tableOptions:{handler(){this.$emit("update:loading",!1),this.setChartOptions()},deep:!0},tabs:{handler(){this.$emit("update:loading",!1),this.setChartOptions()},deep:!0}}},St=wt,$t=(i(487),Object(r.a)(St,te,ie,!1,null,null,null)),Dt=$t.exports;Dt.install=function(e){e.component(Dt.name,Dt)};var Ot=Dt,Ct=i(429),Bt=i(428);const Et=e=>e&&!isNaN(e),Mt=e=>Et(e)?(e=e.toString()).replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,"):0,Vt=e=>{return(t=e)&&!isNaN(t)?+e/100:0;var t},At=e=>{if("number"==typeof e&&(e+=""),"string"==typeof e||e instanceof String){if(8===e.length)return`${e.substr(0,4)}/${e.substr(4,2)}/${e.substr(6,2)}`;if(10===e.length){const t=new Date(1e3*e);return new Intl.DateTimeFormat("zh",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(t)}return e.indexOf("-")>-1?e.replace(/-/g,"/"):"-"}return"-"},Ft=e=>{const t=e=>`${{1:"♦",2:"♣",3:"♥",4:"♠"}[Math.floor(e/256)]}${["2","3","4","5","6","7","8","9","10","J","Q","K","A"][e%256-2]}`;return Array.isArray(e)?e.map(e=>t(e)).join(" "):Et(e)?t(e):"-"},It=e=>e?e.substring(0,3)+"****"+e.substring(7):"",Nt=e=>e<1024?e+"B":e<1048576?(e/1024).toFixed(2)+"KB":e<1073741824?(e/1024/1024).toFixed(2)+"MB":e<1099511627776?(e/1024/1024/1024).toFixed(2)+"GB":e>=1099511627776?(e/1024/1024/1024/1024).toFixed(2)+"TB":void 0,Pt=(e,t="yyyy-MM-dd hh:mm:ss")=>{if(1*e==0||!e)return"-";e=new Date(e),/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));let i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(let e in i)if(new RegExp(`(${e})`).test(t)){let a=i[e]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?a:Lt(a))}return t};function Lt(e){return("00"+e).substr(e.length)}const Rt=e=>(e=+e).toLocaleString("en-US"),jt=(e,t)=>{const i=(e,t)=>{switch(e){case"number":return Mt(t);case"currency":return Vt(t);case"date":return At(t);case"card":return Ft(t);case"expFilter":return It(t);case"fileSizeFilter":return Nt(t);case"formatDateFilter":return Pt(t);case"formatNumber":return Rt(t);default:return t}},a=t.split("|").map(e=>e.trim());return a.length>1?a.reduce((e,t)=>e=i(t,e),e):i(t,e)};var zt={install(e){e.filter("boFilter",jt)}};const Ht=(e={})=>{const{container:t=document.body,width:i="220px",height:a="110px",textAlign:n="center",textBaseline:o="middle",font:l="18px Microsoft Yahei",fillStyle:s="rgba(184, 184, 184, 0.2)",content:r,rotate:c="-25",zIndex:u=4e3,textPositionOpt:p=!1}=e,m=arguments[0],d=document.createElement("canvas");d.setAttribute("width",i),d.setAttribute("height",a);const h=d.getContext("2d");if(h.textAlign=n,h.textBaseline=o,h.font=l,h.fillStyle=s,p){h.textAlign="left";const e=d.width/2,t=d.height/2;h.translate(e,t),h.rotate(Math.PI/180*c),h.translate(2*-e,-t),h.fillText(r,e,t)}else h.rotate(Math.PI/180*c),h.fillText(r,parseFloat(i)/4,.75*parseFloat(a));const f=d.toDataURL(),g=document.querySelector(".__wm"),b=g||document.createElement("div"),y=`\n    position:absolute;\n    top:0px;\n    left:0;\n    width:100%;\n    height:100%;\n    z-index:${u};\n    pointer-events:none;\n    background-repeat:repeat;\n    background-image:url('${f}')`;b.setAttribute("style",y),b.classList.add("__wm"),g||(t.style.position="relative",t.insertBefore(b,t.firstChild));const v=window.MutationObserver||window.WebKitMutationObserver;if(v){let e=new v((function(){const t=document.querySelector(".__wm");(t&&t.getAttribute("style")!==y||!t)&&(e.disconnect(),e=null,Ht(JSON.parse(JSON.stringify(m))))}));e.observe(t,{attributes:!0,subtree:!0,childList:!0})}};i(488),i(489),i(494),i(495),i(499),i(502),i(503),i(506),i(508),i(510);var qt=i(514),Wt=i(515),Ut=i.n(Wt);function Jt(e,t){return t&&(e+=1462),(Date.parse(e)-new Date(Date.UTC(1899,11,30)))/864e5}function Kt(e,t){for(var i={},a={s:{c:1e7,r:1e7},e:{c:0,r:0}},n=0;n!=e.length;++n)for(var o=0;o!=e[n].length;++o){a.s.r>n&&(a.s.r=n),a.s.c>o&&(a.s.c=o),a.e.r<n&&(a.e.r=n),a.e.c<o&&(a.e.c=o);var l={v:e[n][o]};if(null!=l.v){var s=Ut.a.utils.encode_cell({c:o,r:n});"number"==typeof l.v?l.t="n":"boolean"==typeof l.v?l.t="b":l.v instanceof Date?(l.t="n",l.z=Ut.a.SSF._table[14],l.v=Jt(l.v)):l.t="s",i[s]=l}}return a.s.c<1e7&&(i["!ref"]=Ut.a.utils.encode_range(a)),i}function Gt(){if(!(this instanceof Gt))return new Gt;this.SheetNames=[],this.Sheets={}}function Yt(e){for(var t=new ArrayBuffer(e.length),i=new Uint8Array(t),a=0;a!=e.length;++a)i[a]=255&e.charCodeAt(a);return t}function Qt(e,t){return t.map(t=>e.map(e=>t[e]))}function Xt(e,t=0,i=0,a=0){const n=e=>{const t=[];return e.forEach(e=>{e.children?(t.push(e),t.push.apply(t,n(e.children))):t.push(e)}),t};return((e,n=[],o=[])=>(e.forEach(e=>{n.push(new Array(a).fill(null))}),e.forEach((e,a)=>{let l=0;e.forEach(e=>{l=n[a].findIndex(e=>null===e);for(let t=1;t<e.rowSpan;t++)n[a+t][l]=e.label;for(let t=0;t<e.colSpan;t++)n[a][l+t]=e.label;if(e.rowSpan>1||e.colSpan>1){const n=t+l,s=i+a,r=e=>String.fromCharCode(e+"A".charCodeAt(0));o.push(`${r(n)}${s+1}:${r(n+e.colSpan-1)}${s+e.rowSpan}`)}l+=e.colSpan})}),{header:n,merges:o}))((e=>{let t=1;const i=(e,a)=>{if(a&&(e.level=a.level+1,t<e.level&&(t=e.level)),e.children){let t=0;e.children.forEach(a=>{i(a,e),t+=a.colSpan}),e.colSpan=t}else e.colSpan=1};e.forEach(e=>{e.level=1,i(e)});const a=[];for(let e=0;e<t;e++)a.push([]);return n(e).forEach(e=>{e.children?e.rowSpan=1:e.rowSpan=t-e.level+1,a[e.level-1].push(e)}),a})(e))}function Zt(e){const t=[],i=[];let a=!1;const n=(e,o="")=>{e.forEach(e=>{e.children?(a=!0,n(e.children,"("+e.label+")")):e.slotName||(t.push(o+e.label),i.push(e.prop))})};return n(e),{labelList:t,propList:i,isGroupingTableHead:a}}function ei({multiHeader:e=[],header:t,filterVal:i,data:a,filename:n,merges:o=[],autoWidth:l=!0,bookType:s="xlsx",columns:r=[],describe:c}={}){const{labelList:u,propList:p,isGroupingTableHead:m}=Zt(r);let d=[],h={},f={};r.forEach(e=>{e.expFilter&&(h[e.prop]=e.expFilter),e.filter&&(h[e.prop]=e.filter),e.render&&(f[e.prop]=e.render)}),a=a.map(e=>{let t={...e};return Object.keys(t).forEach(e=>{h[e]&&(t[e]=jt(t[e],h[e])),f[e]&&(t[e]=f[e](t))}),t}),t=t||u,(i=i||p)&&i.length&&(a=Qt(i,a));const g=a&&a.length?a[0]:[];if(c){const e=c.map(e=>{let t=[];return g.forEach(e=>{t.push("")}),t[0]=e,t}),t=g.map(e=>"");e.push(t),e.push(t),d=e.concat(d),o=c.map((e,t)=>"A"+(t+1)+":J"+(t+1)).concat(o)}for(let t=0;t<e.length;t++)d.push(e[t]);const b=d.length;if(r){if(m){const e=Xt(r,0,d.length,g.length);d=d.concat(e.header),o=o.concat(e.merges)}else d.push(t);let e={},i={};r.forEach(t=>{t.filter&&(e[t.prop]=t.filter),t.render&&(i[t.prop]=t.render)});const n=a.map(t=>(Object.keys(t).forEach(a=>{e[a]&&(t[a]=jt(t[a],e[a])),i[a]&&(t[a]=i[a](t))}),t));d=d.concat(n)}n=n||"excel-list";var y=new Gt,v=Kt(d);if(o.length>0&&(v["!merges"]||(v["!merges"]=[]),o.forEach(e=>{v["!merges"].push(Ut.a.utils.decode_range(e))})),l){const e=d.map(e=>e.map(e=>null==e?{wch:10}:e.toString().charCodeAt(0)>255?{wch:2*e.toString().length}:{wch:e.toString().length}));let t=e[b];for(let i=b;i<e.length;i++)for(let a=0;a<e[i].length;a++)t[a].wch<e[i][a].wch&&(t[a].wch=e[i][a].wch);v["!cols"]=t}y.SheetNames.push("SheetJS"),y.Sheets.SheetJS=v;var _=Ut.a.write(y,{bookType:s,bookSST:!1,type:"binary"});Object(qt.saveAs)(new Blob([Yt(_)],{type:"application/octet-stream"}),`${n}.${s}`)}var ti=function(e){!e.filename&&this.$route&&(e.filename=this.$route.query.tab||this.$route.name||""),e.filename+="-"+O(new Date,"{y}{m}{d}"),ei(e)},ii={install(e){e.prototype.$watermark=Ht,e.prototype.$exportExcel=ti}},ai=i(432),ni=i(438);const oi=[a.a,p,k,T.a,q,W.a,D,U.a,ee,Ot,Le,Ct.a,Bt.a,ve,$e,Ze,ce,Ve,ai.a,ft],li=function(e,t={}){ni.a.use(t.locale),ni.a.i18n(t.i18n),oi.forEach(t=>{e.component(t.name,t)}),e.use(zt),e.use(ii),e.prototype.$BACKOFFICE={loadMutation:t.loadMutation||"",loadState:t.loadState||""}};"undefined"!=typeof window&&window.Vue&&li(window.Vue);t.default={locale:ni.a.use,i18n:ni.a.i18n,install:li,BoCopy:p,BoPagination:k,BoRangeInput:T.a,BoDialog:q,BoEmoji:W.a,BoImageUpload:U.a,BoMenu:ee,BoPage:Ot,BoSearch:Le,BoMultLang:Ct.a,BoSelect:Bt.a,BoSelectInput:ve,BoSelectDate:$e,BoTable:Ze,BoTitle:ce,BoSection:Ve,BoPlus:ai.a,BoChart:ft}}}]);